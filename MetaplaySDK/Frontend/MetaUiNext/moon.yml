type: library
tags:
  - public-package
  - prettier-formatted

project:
  description: Reusable Vue components for the Metaplay LiveOps Dashboard.
  maintainers:
    - Teemu
    - Paul
    - Peninah

tasks:
  lint:
    command: pnpm lint
    inputs:
      - 'src/**/*.vue'
      - '**/*.ts'
      - '*.js'
      - /MetaplaySDK/Frontend/EslintConfig/baseConfig.js
      - /MetaplaySDK/Frontend/EslintConfig/package.json
      - /MetaplaySDK/Frontend/EslintConfig/shared*.js

  typecheck:
    command: vue-tsc --build
    deps:
      - lint # Don't typecheck if the code doesn't lint.
      - ^:typecheck
    inputs:
      - 'src/**/*.{ts,vue}'
      - 'tests/**/*.ts'
      - '*.{json,ts,d.ts}'
    outputs:
      - dist/

  storybook:
    command: storybook dev -p 6006
    local: true
    deps:
      - typecheck

  test-unit:
    command: vitest run
    deps:
      - typecheck
    inputs:
      - 'src/**/*.{ts,d.ts,vue}'
      - 'tests/unit/**/*.spec.ts'
