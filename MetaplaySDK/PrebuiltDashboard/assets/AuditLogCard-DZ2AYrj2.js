import{d as g,c as n,x as d,o as v,e as f,_}from"./index-B7jvAjdE.js";import{E as m,w as l,M as S}from"./MetaEventStreamCard-D_xDm3jw.js";import{g as c}from"./auditLogs-Cml5ZKP5.js";import"./MInputMultiSelectCheckbox-D_9f7ub1.js";import"./MInputCheckbox-BqateWtE.js";import"./index-B_QkKjtG.js";import"./MInputHintMessage-DbuBS4Kn.js";import"./MInputSingleSelectSwitch-CuptGC6e.js";import"./index-CDBqmjrS.js";import"./MInputSimpleSelectDropdown-DIlBEFcs.js";import"./index-qTA83-by.js";import"./MInputText-CzhsT8yb.js";import"./debounce-B8gTqdZO.js";import"./isSymbol-B7ZrWRtH.js";const E=g({__name:"AuditLogCard",props:{targetType:{},targetId:{type:[String,Function],default:void 0},limit:{default:50},maxHeight:{default:"30rem"}},setup(o,{expose:s}){s();const t=o,r=n(()=>typeof t.targetId=="string"?t.targetId:t.targetId?t.targetId():void 0),{data:a}=d(c(t.targetType,r.value,t.limit)),u=n(()=>{if(a.value){let i=a.value.entries.map(e=>new m(e.createdAt,e.displayTitle,e.displayDescription,e.eventId,e,e.source.sourceId,"event",`/auditLogs/${e.eventId}`)).reverse();return i=l(i),i}else return null}),p={props:t,targetId:r,auditLogData:a,eventStream:u,computed:n,get EventStreamItemEvent(){return m},get wrapRepeatingEvents(){return l},get MetaEventStreamCard(){return S},get useSubscription(){return d},get getAllAuditLogEventsSubscriptionOptions(){return c}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}});function I(o,s,t,r,a,u){return v(),f(r.MetaEventStreamCard,{class:"tw-mb-4",title:"Latest Audit Log Events",icon:"clipboard-list",eventStream:r.eventStream,searchIsFilter:!0,maxHeight:t.maxHeight,permission:"api.audit_logs.view",showViewMoreLink:"","data-testid":"audit-log-card"},null,8,["eventStream","maxHeight"])}const F=_(E,[["render",I],["__file","AuditLogCard.vue"]]);export{F as default};
