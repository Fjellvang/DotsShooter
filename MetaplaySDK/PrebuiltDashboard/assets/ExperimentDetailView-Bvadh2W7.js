import{d as j,f as D,x as E,c as m,ad as Q,O as pe,ae as $,b as R,o as a,a as r,F as U,r as fe,e as A,w as o,p as g,t as T,k as i,n,l as N,_ as F,a8 as _e,b5 as ue,b6 as me,cL as Ee,aj as L,al as z,a4 as G,y as X,cn as K,N as te,cK as ce,M as ee,$ as Ce,ac as xe,L as Te,v as Pe,cM as ge}from"./index-B7jvAjdE.js";import{a as Me,M as Se}from"./MViewContainer-BTeE2xDT.js";import{M as Ae}from"./MTabLayout-CxB_BuXt.js";import{M as De}from"./MTwoColumnLayout-C4tHp69a.js";import Ie from"./AuditLogCard-DZ2AYrj2.js";import{M as he}from"./MActionModal-coQLkvWs.js";import{a as I}from"./experiments-phlJ4_07.js";import{M as ke}from"./MInputSwitch-C-Z-JJsG.js";import{M as Oe}from"./MInputNumber-BOzPEn49.js";import{M as Ne}from"./MInputSingleSelectRadio-BukGu4ZH.js";import{M as ne}from"./MessageAudienceForm-Bn0DOLdW.js";import{M as Re}from"./MetaAudienceSizeEstimate-CCTh_xY2.js";import{M as W,a as Z}from"./metaListUtils-B-xQ0HnD.js";import{C as Be}from"./ConfigContentsCard-BfPxVYTz.js";import{P as Ve}from"./PlayerListCard-CmEr-veR.js";import{T as Le}from"./TargetingCard-DNNkYW_r.js";import"./MInputSimpleSelectDropdown-DIlBEFcs.js";import"./index-qTA83-by.js";import"./MInputHintMessage-DbuBS4Kn.js";import"./MSingleColumnLayout-B4K0ZAFA.js";import"./MetaEventStreamCard-D_xDm3jw.js";import"./MInputMultiSelectCheckbox-D_9f7ub1.js";import"./MInputCheckbox-BqateWtE.js";import"./index-B_QkKjtG.js";import"./MInputSingleSelectSwitch-CuptGC6e.js";import"./index-CDBqmjrS.js";import"./MInputText-CzhsT8yb.js";import"./debounce-B8gTqdZO.js";import"./isSymbol-B7ZrWRtH.js";import"./auditLogs-Cml5ZKP5.js";import"./index-fVjXqxSF.js";import"./index-DZuvHjnn.js";import"./actionDebouncer-CJRtFyZn.js";import"./numberUtils-CkF0oMe2.js";import"./MInputTextArea-BMdoSBpm.js";import"./_arrayIncludes-B3ShBz6l.js";import"./gameConfigs-DlpfRS5r.js";const ze=j({__name:"ExperimentAdvancePhaseForm",props:{experimentId:{}},setup(M,{expose:t}){t();const c=M,e=D();function x(v){u.value=v,e.value?.open(v)}const y=Q(),{data:s,refresh:l,error:d}=E(I(c.experimentId||"")),u=D({action:"",modalTitle:"",modalText:"",modalOkButtonText:"",nextPhase:"",nextPhaseToast:"",forceNexPhase:!1}),S=m(()=>s.value.state.lifecyclePhase),f={rollout:{action:"Rollout",modalTitle:"Rollout Experiment",modalText:"Rolling out an experiment will enable it for the targeted players. Please make sure you are happy with how the experiment is configured, because changing an experiment while it is running may make it harder to analyse the results.",modalOkButtonText:"Rollout",nextPhase:"Ongoing",nextPhaseToast:"Experiment [EXPERIMENT_NAME] rolled out to players!",forceNexPhase:!1},pause:{action:"Pause",modalTitle:"Pause Experiment",modalText:"Pausing an experiment will stop further rollout to players and only players who were enrolled as testers for the experiment will see the variants. Use this if you are unsure of your variants and you need to re-test them before you continue.",modalOkButtonText:"Pause",nextPhase:"Paused",nextPhaseToast:"Experiment [EXPERIMENT_NAME] paused.",forceNexPhase:!1},continue:{action:"Continue",modalTitle:"Continue Experiment",modalText:"Continuing the experiment will put it back into the active state. Players who are already in the experiment will start seeing their variants again, and new players will get enrolled into the experiment.",modalOkButtonText:"Continue",nextPhase:"Ongoing",nextPhaseToast:"Experiment [EXPERIMENT_NAME] unpaused.",forceNexPhase:!1},conclude:{action:"Conclude",modalTitle:"Conclude Experiment",modalText:"Concluding an experiment will prevent further people from joining it. After concluding, all participating players will see the control variant of the experiment.",modalOkButtonText:"Conclude",nextPhase:"Concluded",nextPhaseToast:"Experiment [EXPERIMENT_NAME] concluded.",forceNexPhase:!1},restart:{action:"Restart",modalTitle:"Restart Experiment",modalText:"Restarting an experiment will place it back into the testing phase. Players who were enrolled as testers for the experiment will start to see their assigned variants again. Players who joined the experiment naturally will see the control variant until the experiment is rolled out again.",modalOkButtonText:"Restart",nextPhase:"Testing",nextPhaseToast:"Experiment [EXPERIMENT_NAME] restarted.",forceNexPhase:!0}},P=m(()=>{switch(S.value){case"Testing":return[{phaseInfoButton:f.pause,disabledTooltip:"Cannot pause an experiment while it is in testing."},{phaseInfoButton:f.rollout}];case"Ongoing":return[{phaseInfoButton:f.pause},{phaseInfoButton:f.conclude}];case"Paused":return[{phaseInfoButton:f.continue},{phaseInfoButton:f.conclude}];case"Concluded":return[{phaseInfoButton:f.pause,disabledTooltip:"Cannot pause a concluded experiment."},{phaseInfoButton:f.restart}];default:return[]}});function B(v){if(v==="Testing")return"increase";if(v==="Ongoing")return"increase";if(v==="Paused")return"decrease";if(v==="Concluded")return"decrease"}const{showSuccessNotification:k}=$();async function O(){if(u.value){const v=u.value.nextPhase;if(v&&S.value!==v){await y.post(`/experiments/${c.experimentId}/phase`,{Phase:v,Force:u.value.forceNexPhase});const p=u.value.nextPhaseToast.replace("[EXPERIMENT_NAME]",`'${s.value.stats.displayName}'`);k(p)}l()}}const h={props:c,modal:e,onActionClick:x,gameServerApi:y,singleExperimentData:s,singleExperimentRefresh:l,singleExperimentError:d,selectedAction:u,phase:S,advancePhaseButton:f,buttons:P,nextPhasePerformanceTip:B,showSuccessNotification:k,advanceToNextPhase:O,computed:m,ref:D,get useGameServerApi(){return Q},get MActionModal(){return he},get MButton(){return pe},get useNotifications(){return $},get useSubscription(){return E},get getSingleExperimentSubscriptionOptions(){return I}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),je={class:"tw-mb-3"};function Fe(M,t,c,e,x,y){const s=R("meta-alert");return a(),r(U,null,[(a(!0),r(U,null,fe(e.buttons,l=>(a(),A(e.MButton,{disabledTooltip:l.disabledTooltip,permission:"api.experiments.edit",onClick:d=>e.onActionClick(l.phaseInfoButton)},{default:o(()=>[g(T(l.phaseInfoButton.action),1)],void 0,!0),_:2},1032,["disabledTooltip","onClick"]))),256)),i(e.MActionModal,{ref:"modal",title:e.selectedAction.modalTitle,action:e.advanceToNextPhase,"ok-button-label":e.selectedAction.modalOkButtonText},{default:o(()=>[n("div",je,T(e.selectedAction.modalText),1),e.nextPhasePerformanceTip(e.selectedAction.nextPhase)==="increase"&&e.singleExperimentData.combinations.exceedsThreshold?(a(),A(s,{key:0,noShadow:"",variant:"warning",title:"Performance Tip",message:`Rolling this experiment out will increase the total number of live game config combinations to ${e.singleExperimentData.combinations.newCombinations} from the current ${e.singleExperimentData.combinations.currentCombinations}. This is a very high number and may cause a large use of memory on your game servers depending on how the experiments have been targeted. Consider concluding other experiments to keep the number of live game config combinations low.`},null,8,["message"])):e.nextPhasePerformanceTip(e.selectedAction.nextPhase)==="increase"&&e.selectedAction.nextPhase!=="Testing"?(a(),A(s,{key:1,noShadow:"",variant:"secondary",title:"Performance Tip",message:`Rolling out or continuing this experiment will increase the total number of live game config combinations to ${e.singleExperimentData.combinations.newCombinations} from the current ${e.singleExperimentData.combinations.currentCombinations}. Remember to keep an eye on your game server memory use when running many experiments in parallel.`},null,8,["message"])):e.nextPhasePerformanceTip(e.selectedAction.nextPhase)==="decrease"?(a(),A(s,{key:2,noShadow:"",variant:"secondary",title:"Performance Tip",message:`Concluding or pausing this experiment will decrease the total number of live game config combinations to ${e.singleExperimentData.combinations.newCombinations} from the current ${e.singleExperimentData.combinations.currentCombinations}. This will reduce the memory use on your game servers.`},null,8,["message"])):N("",!0)],void 0,!0),_:1},8,["title","ok-button-label"])],64)}const We=F(ze,[["render",Fe],["__file","ExperimentAdvancePhaseForm.vue"]]),Ue=j({__name:"ExperimentForm",props:{experimentId:{}},emits:["ok"],setup(M,{expose:t,emit:c}){const e=M,x=D(),y=m(()=>f.value==="Testing"||f.value==="Concluded"?"Configure Experiment":"Reconfigure Experiment"),s=m(()=>{if(!(f.value==="Testing"||f.value==="Concluded"))return"Reconfiguring an experiment after it has been rolled out may not achieve the expected result and is therefore generally discouraged. For example, decreasing rollout % or capacity limit will have no effect if those limits have already been reached. Changing targeting or weights may make it harder to analyse the experiment results."});function l(){x.value?.open()}t({open:l});const{data:d,refresh:u,error:S}=E(I(e.experimentId||"")),f=m(()=>d.value.state.lifecyclePhase),{data:P,refresh:B}=E(I(e.experimentId)),k=D(!1),O=D(null),h=D("Login"),v=[{label:"Everyone",value:"Login"},{label:"New players",value:"NewPlayers"}],p=m(()=>w.value!==void 0&&w.value>0),w=D(),_=D(void 0),H=D(0),J=D(ne.props.modelValue.default());function ve(C,b,V){b.weight=C,ae(V)}const ye=m(()=>!(O.value===void 0||!_.value||!Object.keys(_.value).every(C=>re(C))));function ae(C){(_.value[C].weight===""||!_.value[C].weight||parseInt(_.value[C].weight)<0)&&(_.value[C].weight=0);for(const b of Object.values(_.value))b.weight=Math.round(b.weight);H.value=Object.values(_.value).reduce((b,V)=>b+parseInt(V.weight),0)}function ie(){let C=Object.values(_.value).reduce((b,V)=>b+parseInt(V.weight),0);if(C===0)for(const b in _.value)_.value[b].weight=1,C++;if(C!==100){for(const b of Object.values(_.value))b.weight=Math.round(b.weight/C*100);C=Object.values(_.value).reduce((b,V)=>b+parseInt(V.weight),0),C!==100&&(_.value.Control.weight+=100-C)}H.value=Object.values(_.value).reduce((b,V)=>b+parseInt(V.weight),0)}function re(C){const b=parseInt(_.value[C].weight);return!(isNaN(b)||b<0||H.value!==100)}function we(){k.value=!P.value.state.isRolloutDisabled,O.value=P.value.state.rolloutRatioPermille/10,h.value=P.value.state.enrollTrigger,w.value=P.value.state.hasCapacityLimit?P.value.state.maxCapacity:void 0,_.value={Control:{weight:P.value.state.controlWeight}},Object.entries(P.value.state.variants).forEach(([C,b])=>{_.value[C]={weight:b.weight}}),ie(),J.value=ne.props.modelValue.default(),J.value.targetCondition=P.value.state.targetCondition}const oe=Q(),se=c,{showSuccessNotification:le}=$();async function be(){const C={isRolloutDisabled:!k.value,enrollTrigger:h.value,hasCapacityLimit:p.value,maxCapacity:p.value?w.value:null,rolloutRatioPermille:O.value*10,variantWeights:Object.fromEntries(Object.keys(_.value).map(b=>[b==="Control"?null:b,_.value[b].weight])),variantIsDisabled:null,targetCondition:J.value.targetCondition};await oe.post(`/experiments/${e.experimentId}/config`,C),le("Configuration set."),B(),se("ok")}const de={props:e,modal:x,modalTitle:y,modalText:s,open:l,singleExperimentData:d,singleExperimentRefresh:u,singleExperimentError:S,phase:f,experimentInfoData:P,experimentInfoRefresh:B,rolloutEnabled:k,rolloutPercentage:O,enrollTrigger:h,enrollTriggerOptions:v,hasCapacityLimit:p,maxCapacity:w,variantWeights:_,totalWeights:H,audience:J,onVariantWeightChange:ve,isFormValid:ye,updateVariantWeights:ae,balanceVariantWeights:ie,validateVariantWeight:re,resetForm:we,gameServerApi:oe,emits:se,showSuccessNotification:le,updateConfiguration:be,computed:m,ref:D,get useGameServerApi(){return Q},get MActionModal(){return he},get MButton(){return pe},get MInputSwitch(){return ke},get MInputSingleSelectRadio(){return Ne},get MInputNumber(){return Oe},get MTextButton(){return _e},get useNotifications(){return $},get useSubscription(){return E},get getSingleExperimentSubscriptionOptions(){return I},MessageAudienceForm:ne};return Object.defineProperty(de,"__isScriptSetup",{enumerable:!1,value:!0}),de}}),Ge={class:"mb-4"},Xe={class:"p-3 bg-light rounded border"},Ke={class:"small text-muted tw-mt-1"},Ye={key:0},Ze={key:1},qe={class:"mb-4"},He={key:0,class:"small text-muted mb-3"},Je={key:1,class:"small text-muted mb-3"},Qe={class:"tw-mb-4"},$e={class:"@tw-container tw-bg-neutral-50 tw-rounded-md tw-border tw-border-neutral-200 tw-p-4"},et={class:"tw-grid @sm:tw-grid-cols-3 tw-gap-3"},tt={key:0,class:"small text-danger"},nt={key:1,class:"small text-warning"};function at(M,t,c,e,x,y){const s=R("meta-alert"),l=R("b-row"),d=R("b-col");return a(),r(U,null,[i(e.MButton,{permission:"api.experiments.edit","disabled-tooltip":e.phase==="Concluded"?"Cannot reconfigure a concluded experiment.":void 0,onClick:t[0]||(t[0]=u=>e.modal?.open())},{default:o(()=>[g(T(e.phase==="Testing"||e.phase==="Concluded"?"Configure":"Reconfigure"),1)],void 0,!0),_:1},8,["disabled-tooltip"]),i(e.MActionModal,{ref:"modal",title:e.modalTitle,action:e.updateConfiguration,"ok-button-label":"Update Configuration","ok-button-disabled-tooltip":e.isFormValid?void 0:"Variant weights must add up to 100% to proceed.",onShow:e.resetForm},{default:o(()=>[n("div",Ge,[e.modalText?(a(),A(s,{key:0,title:"",variant:"info"},{default:o(()=>[g(T(e.modalText),1)],void 0,!0),_:1})):N("",!0),t[8]||(t[8]=n("h6",null,"Rollout Settings",-1)),n("div",Xe,[i(l,{"align-h":"between","no-gutters":""},{default:o(()=>[t[7]||(t[7]=n("span",{class:"font-weight-bold"},"Rollout Enabled",-1)),i(e.MInputSwitch,{class:"tw-relative tw-top-1 tw-mr-1","model-value":e.rolloutEnabled,name:"rolloutEnabled",size:"small","onUpdate:modelValue":t[1]||(t[1]=u=>e.rolloutEnabled=u)},null,8,["model-value"])],void 0,!0),_:1}),ue(n("hr",null,null,512),[[me,e.rolloutEnabled]]),ue(i(l,null,{default:o(()=>[i(d,{class:"mb-2",md:""},{default:o(()=>[i(e.MInputNumber,{label:"Rollout %","model-value":e.rolloutPercentage,min:0,max:100,"onUpdate:modelValue":t[2]||(t[2]=u=>e.rolloutPercentage=u)},null,8,["model-value"])],void 0,!0),_:1}),i(d,{class:"mb-2",md:""},{default:o(()=>[i(e.MInputNumber,{label:"Capacity Limit","model-value":e.maxCapacity,min:0,placeholder:"Unlimited",clearOnZero:"","onUpdate:modelValue":t[3]||(t[3]=u=>e.maxCapacity=u)},null,8,["model-value"])],void 0,!0),_:1})],void 0,!0),_:1},512),[[me,e.rolloutEnabled]]),n("div",Ke,[e.rolloutEnabled?(a(),r("span",Ye,"With rollout enabled, a percentage of your player base will be able to join the experiment, up to the optional capacity limit.")):(a(),r("span",Ze,"Players will not be able to join an experiment with rollout disabled. You can use this to manually close an experiment to new players."))])])]),n("div",qe,[t[10]||(t[10]=n("h6",null,"Audience",-1)),i(e.MessageAudienceForm,{class:"mb-2","model-value":e.audience,"onUpdate:modelValue":t[4]||(t[4]=u=>e.audience=u),isPlayerTargetingSupported:!1},null,8,["model-value"]),i(l,{"align-h":"between","no-gutters":""},{default:o(()=>[t[9]||(t[9]=n("div",{class:"font-weight-bold"},"Account Age",-1)),i(e.MInputSingleSelectRadio,{"model-value":e.enrollTrigger,options:e.enrollTriggerOptions,size:"small","onUpdate:modelValue":t[5]||(t[5]=u=>e.enrollTrigger=u)},null,8,["model-value"])],void 0,!0),_:1}),e.enrollTrigger!=="Login"?(a(),r("div",He,"Players can join the experiment at the time of account creation only.")):(a(),r("div",Je,"Players can join the experiment the next time they login."))]),n("div",Qe,[t[14]||(t[14]=n("h6",null,"Variant Rollout Percentages",-1)),n("div",$e,[n("div",et,[(a(!0),r(U,null,fe(e.variantWeights,(u,S)=>(a(),A(e.MInputNumber,{key:S,label:S+" %","model-value":u.weight,min:0,variant:e.totalWeights!==100?"danger":"default","onUpdate:modelValue":f=>e.onVariantWeightChange(f,u,S)},null,8,["label","model-value","variant","onUpdate:modelValue"]))),128))]),e.totalWeights!==100?(a(),r("div",tt,[t[12]||(t[12]=g("Variant weights do not add up to 100%. ")),i(e.MTextButton,{onClick:t[6]||(t[6]=u=>e.balanceVariantWeights())},{default:o(()=>t[11]||(t[11]=[g("Balance automatically")]),void 0,!0),_:1}),t[13]||(t[13]=g("?"))])):N("",!0),e.variantWeights&&parseInt(e.variantWeights.Control.weight)===0?(a(),r("div",nt,"Empty control group! Validating this experiment's results may not be possible.")):N("",!0)])])],void 0,!0),_:1},8,["title","ok-button-disabled-tooltip"])],64)}const it=F(Ue,[["render",at],["__file","ExperimentForm.vue"]]);function q(M,t,c){return t.state.targetCondition?c?Ee(c.segments,{targetCondition:t.state.targetCondition}):null:M}function Y(M,t,c){const x=(q(M,t,c)??0)*(t.state.rolloutRatioPermille/1e3);return t.state.hasCapacityLimit&&t.state.maxCapacity<x?{size:t.state.maxCapacity,tooltip:"The calculated audience size is capped by max capacity."}:{size:Math.floor(x),tooltip:"The target audience size is derived by multiplying total audience size with rollout percentage."}}const rt=j({__name:"ExperimentOverviewList",setup(M,{expose:t}){t();const c=L(),e=z(c.params.id),{data:x}=E(G()),{data:y}=E(I(e||"")),{data:s}=E(X()),{data:l}=E(K()),d=m(()=>s.value?.serverGameConfig.PlayerExperiments[e]),u=m(()=>!d.value),S=m(()=>y.value?.state.lifecyclePhase),f=m(()=>P[S.value]),P={Testing:{title:"Testing",titleVariant:"primary"},Ongoing:{title:"Active",titleVariant:"success"},Paused:{title:"Paused",titleVariant:"warning"},Concluded:{title:"Concluded",titleVariant:"neutral"}},B=m(()=>{if(["Ongoing"].includes(S.value)){let p=te.now().diff(te.fromISO(y.value.stats.ongoingMostRecentlyAt));const w=ce(y.value.stats.ongoingDurationBeforeCurrentSpan);return w&&(p=p.plus(w)),p}else return y.value.stats.ongoingDurationBeforeCurrentSpan}),k=m(()=>x.value?.totalItemCounts.Players||0),O=m(()=>q(k.value,y.value,l.value)),h=m(()=>Y(k.value,y.value,l.value)),v={route:c,experimentId:e,databaseItemCountsData:x,singleExperimentData:y,gameData:s,playerSegmentsData:l,experiment:d,isExperimentMissing:u,phase:S,phaseInfo:f,phaseInfos:P,totalOngoingDuration:B,totalPlayerCount:k,cachedTotalEstimatedAudienceSize:O,cachedCalculatedAudienceSize:h,get DateTime(){return te},computed:m,get useRoute(){return L},get MBadge(){return ee},get useSubscription(){return E},get routeParamToSingleValue(){return z},get parseDotnetTimeSpanToLuxon(){return ce},get calculatedAudienceSize(){return Y},get totalEstimatedAudienceSize(){return q},get getSingleExperimentSubscriptionOptions(){return I},get getGameDataSubscriptionOptions(){return X},get getDatabaseItemCountsSubscriptionOptions(){return G},get getPlayerSegmentsSubscriptionOptions(){return K}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),ot={class:"tw-w-full"},st={class:"tw-divide-y tw-divide-neutral-200 *:*:tw-py-1.5"},lt={class:"tw-font-semibold"},dt={class:"tw-text-right"},ut={class:"tw-text-right"},mt={key:1,class:"text-right text-danger"},ct={class:"tw-mt-3 tw-w-full"},gt={class:"tw-divide-y tw-divide-neutral-200 *:*:tw-py-1.5"},pt={class:"tw-font-semibold"},ft={key:0,class:"tw-text-right tw-italic tw-text-neutral-500"},xt={key:1,class:"tw-text-right"},ht={key:0,class:"tw-text-right tw-italic tw-text-neutral-500"},vt={key:1,class:"tw-text-right"},yt={key:2,class:"tw-text-right"},wt={key:3,class:"tw-text-right"},bt={key:0,class:"tw-text-right"},_t={key:1,class:"tw-text-right"},Et={key:0,class:"tw-text-right tw-italic tw-text-neutral-500"},Ct={key:1,class:"tw-text-right tw-italic tw-text-neutral-500"},Tt={key:2,class:"tw-text-right"},Pt={key:3,class:"tw-text-right"},Mt={key:0,class:"tw-text-right tw-italic tw-text-neutral-500"},St={key:1,class:"tw-text-right"},At={key:2,class:"tw-text-right"},Dt={key:3,class:"tw-text-right"};function It(M,t,c,e,x,y){const s=R("fa-icon"),l=R("meta-time"),d=R("meta-abbreviate-number"),u=R("meta-duration");return a(),r(U,null,[n("table",ot,[n("tbody",st,[n("tr",lt,[n("td",null,[i(s,{icon:"chart-bar"}),t[0]||(t[0]=g(" Overview"))])]),n("tr",null,[t[1]||(t[1]=n("td",null,"Status",-1)),n("td",dt,[i(e.MBadge,{variant:e.phaseInfo.titleVariant},{default:o(()=>[g(T(e.phaseInfo.title),1)],void 0,!0),_:1},8,["variant"])])]),n("tr",null,[t[2]||(t[2]=n("td",null,"Created At",-1)),n("td",ut,[i(l,{date:e.singleExperimentData.stats.createdAt,showAs:"timeagoSentenceCase"},null,8,["date"])])]),n("tr",null,[t[3]||(t[3]=n("td",null,"Experiment Analytics ID",-1)),e.isExperimentMissing?(a(),r("td",mt,"None")):(a(),r("td",{key:0,class:Ce(["tw-text-right",{"text-danger":!e.experiment.experimentAnalyticsId}])},T(e.experiment.experimentAnalyticsId||"None"),3))])])]),n("table",ct,[n("tbody",gt,[n("tr",null,[n("td",pt,[i(s,{icon:"chart-bar"}),t[4]||(t[4]=g(" Rollout Details"))])]),n("tr",null,[t[5]||(t[5]=n("td",null,"Total Participants",-1)),e.singleExperimentData.state.numPlayersInExperiment===0&&e.singleExperimentData.stats.ongoingFirstTimeAt===null?(a(),r("td",ft,"Not started")):(a(),r("td",xt,[i(d,{value:e.singleExperimentData.state.numPlayersInExperiment,unit:"player"},null,8,["value"])]))]),n("tr",null,[t[11]||(t[11]=n("td",null,"Rollout Started At",-1)),e.phase==="Testing"&&e.singleExperimentData.stats.ongoingFirstTimeAt===null?(a(),r("td",ht,t[6]||(t[6]=[n("span",null,"Not started",-1)]))):e.phase==="Testing"?(a(),r("td",vt,[t[8]||(t[8]=n("span",{class:"tw-mr-1 tw-italic tw-text-neutral-500"},"Not started",-1)),i(e.MBadge,{tooltip:"Experiment has previously been rolled out.",shape:"pill"},{default:o(()=>t[7]||(t[7]=[g("?")]),void 0,!0),_:1})])):e.singleExperimentData.stats.ongoingFirstTimeAt===e.singleExperimentData.stats.ongoingMostRecentlyAt?(a(),r("td",yt,[i(l,{date:e.singleExperimentData.stats.ongoingFirstTimeAt,showAs:"timeagoSentenceCase"},null,8,["date"])])):(a(),r("td",wt,[i(l,{date:e.singleExperimentData.stats.ongoingMostRecentlyAt,showAs:"timeagoSentenceCase"},null,8,["date"]),t[10]||(t[10]=n("span",{class:"tw-mr-1"},null,-1)),i(e.MBadge,{tooltip:"Experiment has previously been rolled out.",shape:"pill"},{default:o(()=>t[9]||(t[9]=[g("?")]),void 0,!0),_:1})]))]),n("tr",null,[t[16]||(t[16]=n("td",null,"Running Time",-1)),["Ongoing","Paused","Concluded"].includes(e.phase)?(a(),r("td",bt,[i(u,{duration:e.totalOngoingDuration.toString(),showAs:"humanizedSentenceCase"},null,8,["duration"]),t[13]||(t[13]=n("span",{class:"tw-mr-1"},null,-1)),!e.singleExperimentData.stats.ongoingFirstTimeAt!==e.singleExperimentData.stats.ongoingMostRecentlyAt?(a(),A(e.MBadge,{key:0,tooltip:"Experiment has been active more than once.",shape:"pill"},{default:o(()=>t[12]||(t[12]=[g("?")]),void 0,!0),_:1})):N("",!0)])):(a(),r("td",_t,[t[15]||(t[15]=n("span",{class:"tw-mr-1 tw-italic tw-text-neutral-500"},"Not started",-1)),e.singleExperimentData.stats.ongoingFirstTimeAt!==null?(a(),A(e.MBadge,{key:0,tooltip:"Experiment has previously been rolled out.",shape:"pill"},{default:o(()=>t[14]||(t[14]=[g("?")]),void 0,!0),_:1})):N("",!0)]))]),n("tr",null,[t[21]||(t[21]=n("td",null,"Reached Capacity At",-1)),e.singleExperimentData.state.hasCapacityLimit?e.singleExperimentData.stats.reachedCapacityFirstTimeAt===null?(a(),r("td",Ct,t[18]||(t[18]=[n("span",null,"Not reached",-1)]))):e.singleExperimentData.stats.reachedCapacityFirstTimeAt===e.singleExperimentData.stats.reachedCapacityMostRecentlyAt?(a(),r("td",Tt,[i(l,{date:e.singleExperimentData.stats.reachedCapacityFirstTimeAt,showAs:"timeagoSentenceCase"},null,8,["date"])])):(a(),r("td",Pt,[i(l,{date:e.singleExperimentData.stats.reachedCapacityMostRecentlyAt,showAs:"timeagoSentenceCase"},null,8,["date"]),t[20]||(t[20]=n("span",{class:"tw-mr-1"},null,-1)),i(e.MBadge,{tooltip:"Experiment has reached capacity more than once.",shape:"pill"},{default:o(()=>t[19]||(t[19]=[g("?")]),void 0,!0),_:1})])):(a(),r("td",Et,t[17]||(t[17]=[n("span",null,"No max capacity",-1)])))]),n("tr",null,[t[27]||(t[27]=n("td",null,"Concluded At",-1)),["Testing","Ongoing","Paused"].includes(e.phase)&&e.singleExperimentData.stats.concludedFirstTimeAt===null?(a(),r("td",Mt,t[22]||(t[22]=[n("span",null,"Not concluded",-1)]))):["Testing","Ongoing","Paused"].includes(e.phase)?(a(),r("td",St,[t[24]||(t[24]=n("span",{class:"tw-mr-1 tw-italic tw-text-neutral-500"},"Not concluded",-1)),i(e.MBadge,{tooltip:"Experiment has previously been concluded.",shape:"pill"},{default:o(()=>t[23]||(t[23]=[g("?")]),void 0,!0),_:1})])):e.singleExperimentData.stats.concludedFirstTimeAt===e.singleExperimentData.stats.concludedMostRecentlyAt?(a(),r("td",At,[i(l,{date:e.singleExperimentData.stats.concludedFirstTimeAt,showAs:"timeagoSentenceCase"},null,8,["date"])])):(a(),r("td",Dt,[i(l,{date:e.singleExperimentData.stats.concludedMostRecentlyAt,showAs:"timeagoSentenceCase"},null,8,["date"]),t[26]||(t[26]=n("span",{class:"tw-mr-1"},null,-1)),i(e.MBadge,{tooltip:"Experiment has been concluded more than once.",shape:"pill"},{default:o(()=>t[25]||(t[25]=[g("?")]),void 0,!0),_:1})]))])])])],64)}const kt=F(rt,[["render",It],["__file","ExperimentOverviewList.vue"]]),Ot=j({__name:"ExperimentPhaseOverview",setup(M,{expose:t}){t();const c=L(),e=z(c.params.id),{data:x,error:y}=E(I(e||"")),s=m(()=>x.value?.state.lifecyclePhase),l=m(()=>d[s.value]),d={Testing:{title:"Testing",titleVariant:"primary"},Ongoing:{title:"Active",titleVariant:"success"},Paused:{title:"Paused",titleVariant:"warning"},Concluded:{title:"Concluded",titleVariant:"neutral"}},u={route:c,experimentId:e,singleExperimentData:x,singleExperimentError:y,phase:s,phaseInfo:l,phaseInfos:d,computed:m,get useRoute(){return L},get MBadge(){return ee},get useSubscription(){return E},get routeParamToSingleValue(){return z},get getSingleExperimentSubscriptionOptions(){return I}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),Nt={class:"tw-hidden tw-justify-around @md:tw-flex",style:{"font-size":"130%"}},Rt={class:"tw-block tw-text-center @md:tw-hidden",style:{"font-size":"130%"}};function Bt(M,t,c,e,x,y){const s=R("fa-icon");return a(),r(U,null,[n("div",Nt,[i(e.MBadge,{class:"tw-mx-2",variant:e.phase==="Testing"?"primary":"neutral"},{default:o(()=>[g(T(e.phaseInfos.Testing.title),1)],void 0,!0),_:1},8,["variant"]),i(s,{class:"tw-mt-2",icon:"arrow-right"}),i(e.MBadge,{class:"tw-mx-2",variant:e.phase==="Ongoing"||e.phase==="Paused"?"primary":"neutral"},{default:o(()=>[g(T(e.phaseInfos[e.phase==="Paused"?"Paused":"Ongoing"].title),1)],void 0,!0),_:1},8,["variant"]),i(s,{class:"tw-mt-2",icon:"arrow-right"}),i(e.MBadge,{class:"tw-mx-2",variant:e.phase==="Concluded"?"primary":"neutral"},{default:o(()=>[g(T(e.phaseInfos.Concluded.title),1)],void 0,!0),_:1},8,["variant"])]),n("div",Rt,[i(e.MBadge,{class:"tw-mx-2",variant:e.phase==="Testing"?"primary":"neutral"},{default:o(()=>[g(T(e.phaseInfos.Testing.title),1)],void 0,!0),_:1},8,["variant"]),n("div",null,[i(s,{icon:"arrow-down"})]),i(e.MBadge,{class:"tw-mx-2",variant:e.phase==="Ongoing"||e.phase==="Paused"?"primary":"neutral"},{default:o(()=>[g(T(e.phaseInfos[e.phase==="Paused"?"Paused":"Ongoing"].title),1)],void 0,!0),_:1},8,["variant"]),n("div",null,[i(s,{icon:"arrow-down"})]),i(e.MBadge,{class:"tw-mx-2",variant:e.phase==="Concluded"?"primary":"neutral"},{default:o(()=>[g(T(e.phaseInfos.Concluded.title),1)],void 0,!0),_:1},8,["variant"])])],64)}const Vt=F(Ot,[["render",Bt],["__file","ExperimentPhaseOverview.vue"]]),Lt=j({__name:"ExperimentTargetAudience",setup(M,{expose:t}){t();const c=L(),e=z(c.params.id),{data:x,error:y}=E(I(e||"")),{data:s}=E(K()),{data:l}=E(G()),d=m(()=>l.value?.totalItemCounts.Players||0),u=m(()=>q(d.value,x.value,s.value)),S=m(()=>Y(d.value,x.value,s.value)),f={route:c,experimentId:e,singleExperimentData:x,singleExperimentError:y,playerSegmentsData:s,databaseItemCountsData:l,totalPlayerCount:d,cachedTotalEstimatedAudienceSize:u,cachedCalculatedAudienceSize:S,computed:m,get useRoute(){return L},get MBadge(){return ee},get MCard(){return xe},get useSubscription(){return E},get routeParamToSingleValue(){return z},get calculatedAudienceSize(){return Y},get totalEstimatedAudienceSize(){return q},get getSingleExperimentSubscriptionOptions(){return I},get getDatabaseItemCountsSubscriptionOptions(){return G},get getPlayerSegmentsSubscriptionOptions(){return K},MetaAudienceSizeEstimate:Re};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),zt={class:"tw-w-full"},jt={class:"tw-divide-y tw-divide-neutral-200 *:*:tw-py-1.5"},Ft={key:0,class:"tw-text-right"},Wt={key:1,class:"tw-text-right"},Ut={key:0,class:"tw-text-right"},Gt={key:1,class:"tw-text-right"},Xt={key:0,class:"tw-text-right"},Kt={key:1,class:"tw-text-right"},Yt={key:2,class:"tw-text-right"},Zt={key:3,class:"tw-text-right"},qt={key:0,class:"tw-text-right"},Ht={key:1,class:"text-right"},Jt={key:0,class:"tw-text-right"},Qt={key:1,class:"tw-text-right"},$t={key:2,class:"tw-text-right"};function en(M,t,c,e,x,y){const s=R("meta-abbreviate-number");return a(),A(e.MCard,{title:"Experiment Audience",error:e.singleExperimentError,"data-testid":"experiment-statistics-card"},{default:o(()=>[n("table",zt,[n("tbody",jt,[n("tr",null,[t[0]||(t[0]=n("td",null,"Enroll Trigger",-1)),e.singleExperimentData.state.enrollTrigger==="Login"?(a(),r("td",Ft,"At login")):e.singleExperimentData.state.enrollTrigger==="NewPlayers"?(a(),r("td",Wt,"At account creation only")):N("",!0)]),n("tr",null,[t[1]||(t[1]=n("td",null,"Estimated Audience",-1)),e.singleExperimentData.state.enrollTrigger==="Login"?(a(),r("td",Ut,[e.singleExperimentData.state.targetCondition?(a(),A(e.MetaAudienceSizeEstimate,{key:0,sizeEstimate:e.cachedTotalEstimatedAudienceSize},null,8,["sizeEstimate"])):(a(),A(s,{key:1,value:e.totalPlayerCount,unit:"player"},null,8,["value"]))])):e.singleExperimentData.state.enrollTrigger==="NewPlayers"?(a(),r("td",Gt,"New players only")):N("",!0)]),n("tr",null,[t[3]||(t[3]=n("td",null,"Enrollment Target",-1)),e.singleExperimentData.state.isRolloutDisabled?(a(),r("td",Xt,[i(e.MBadge,{variant:"warning"},{default:o(()=>t[2]||(t[2]=[g("Disabled")]),void 0,!0),_:1})])):e.singleExperimentData.state.enrollTrigger==="NewPlayers"?(a(),r("td",Kt,T(e.singleExperimentData.state.rolloutRatioPermille/10)+"% of new players",1)):e.singleExperimentData.state.targetCondition!=null?(a(),r("td",Yt,T(e.singleExperimentData.state.rolloutRatioPermille/10)+"% of the above",1)):(a(),r("td",Zt,T(e.singleExperimentData.state.rolloutRatioPermille/10)+"% of the above",1))]),n("tr",null,[t[4]||(t[4]=n("td",null,"Max Enrollment",-1)),e.singleExperimentData.state.hasCapacityLimit?(a(),r("td",qt,[i(s,{value:e.singleExperimentData.state.maxCapacity,unit:"player"},null,8,["value"])])):(a(),r("td",Ht,"∞"))]),n("tr",null,[t[8]||(t[8]=n("td",null,"Addressable Audience",-1)),e.singleExperimentData.state.enrollTrigger==="Login"?(a(),r("td",Jt,[t[6]||(t[6]=g("~")),i(s,{value:e.cachedCalculatedAudienceSize.size,unit:"player"},null,8,["value"]),t[7]||(t[7]=g()),i(e.MBadge,{tooltip:e.cachedCalculatedAudienceSize.tooltip,shape:"pill"},{default:o(()=>t[5]||(t[5]=[g("?")]),void 0,!0),_:1},8,["tooltip"])])):e.singleExperimentData.state.enrollTrigger==="NewPlayers"&&!e.singleExperimentData.state.hasCapacityLimit?(a(),r("td",Qt,T(e.singleExperimentData.state.rolloutRatioPermille/10)+"% of new players",1)):e.singleExperimentData.state.enrollTrigger==="NewPlayers"&&e.singleExperimentData.state.hasCapacityLimit?(a(),r("td",$t,"Up to "+T(e.singleExperimentData.state.maxCapacity)+" new players",1)):N("",!0)])])])]),_:1},8,["error"])}const tn=F(Lt,[["render",en],["__file","ExperimentTargetAudience.vue"]]),nn=j({__name:"ExperimentVariantsCard",props:{experimentId:{}},setup(M,{expose:t}){t();const c=M,{data:e}=E(I(c.experimentId)),{data:x}=E(X()),{data:y}=E(K()),{data:s}=E(G()),l=m(()=>x.value?.serverGameConfig.PlayerExperiments[c.experimentId]),d=m(()=>{const h=[{id:"Control",weight:e.value.state.controlWeight,diffParams:null,playerCount:P("null"),isConfigMissing:!1,analyticsId:l.value?.controlVariantAnalyticsId}];Object.entries(e.value.state.variants).forEach(([p,w])=>{h.push({id:p,weight:w.weight,diffParams:`newPatch=${c.experimentId}:${p}`,playerCount:P(p),isConfigMissing:w.isConfigMissing,analyticsId:l.value?.variants[p]?.analyticsId})});const v=Object.values(h).reduce((p,w)=>p+w.weight,0);return Object.values(h).forEach(p=>{p.weight=Math.round(p.weight/v*100)}),h}),u=m(()=>s.value?.totalItemCounts.Players||0),S=m(()=>Y(u.value,e.value,y.value));function f(h){const v=S.value.size,p=h/100*v;return Math.floor(p)}function P(h){return h?e.value.stats.variants[h]?.numPlayersInVariant??0:0}function B(h){return e.value.state.enrollTrigger==="NewPlayers"?`Approximately ${Math.round(h*(e.value.state.rolloutRatioPermille/1e3))}% of new players.`:e.value.state.hasCapacityLimit&&e.value.state.maxCapacity<f(100)?`Approximately ${Math.round(e.value.state.maxCapacity*(h/100))} players out of a max capacity of ${e.value.state.maxCapacity} players in this experiment.`:`Approximately ${f(h)} players out of a calculated audience of ${f(100)} players.`}const k=[W.asUnsorted(),new W("ID","id",Z.Ascending),new W("ID","id",Z.Descending),new W("Weight","weight",Z.Ascending),new W("Weight","weight",Z.Descending)],O={props:c,experimentInfoData:e,gameData:x,playerSegmentsData:y,databaseItemCountsData:s,experiment:l,variants:d,totalPlayerCount:u,cachedCalculatedAudienceSize:S,percentageOfCalculatedAudienceSize:f,numberOfPlayersInVariant:P,variantRolloutTooltip:B,sortOptions:k,computed:m,get MetaListSortDirection(){return Z},get MetaListSortOption(){return W},get MTooltip(){return Te},get MBadge(){return ee},get MListItem(){return Pe},get useSubscription(){return E},get calculatedAudienceSize(){return Y},get getSingleExperimentSubscriptionOptions(){return I},get getDatabaseItemCountsSubscriptionOptions(){return G},get getGameDataSubscriptionOptions(){return X},get getPlayerSegmentsSubscriptionOptions(){return K}};return Object.defineProperty(O,"__isScriptSetup",{enumerable:!1,value:!0}),O}}),an={key:0},rn={class:"tw-font-semibold"},on={key:1},sn={key:0,class:"tw-text-red-500"};function ln(M,t,c,e,x,y){const s=R("meta-abbreviate-number"),l=R("meta-list-card");return a(),A(l,{class:"h-100",title:"Variants",icon:"table",tooltip:"Variants configured for this experiment.",itemList:e.variants,sortOptions:e.sortOptions,emptyMessage:"No variants for this experiment!"},{"item-card":o(({item:d})=>[i(e.MListItem,null,{badge:o(()=>[d.isConfigMissing?(a(),A(e.MBadge,{key:0,tooltip:"This variant has been removed from the current game configs and can no longer be used.",variant:"danger"},{default:o(()=>t[0]||(t[0]=[g("Missing")]),void 0,!0),_:1})):N("",!0),d.weight===0?(a(),A(e.MBadge,{key:1,tooltip:"This variant has a weight of 0% and no players can enter it.",variant:"warning"},{default:o(()=>t[1]||(t[1]=[g("No weight")]),void 0,!0),_:1})):N("",!0)]),"top-right":o(()=>[d.analyticsId?(a(),r("span",an,[t[2]||(t[2]=g("Analytics ID: ")),n("span",rn,T(d.analyticsId),1)])):(a(),r("span",on,t[3]||(t[3]=[g("Analytics ID: "),n("span",{class:"tw-font-semibold tw-text-red-500"},"None",-1)])))]),"bottom-left":o(()=>[i(s,{value:d.playerCount,unit:"player"},null,8,["value"]),t[4]||(t[4]=g(" currently in this group."))]),"bottom-right":o(()=>[i(e.MTooltip,{content:e.variantRolloutTooltip(d.weight)},{default:o(()=>[g(T(d.weight)+"% of total rollout",1)],void 0,!0),_:2},1032,["content"]),d.isConfigMissing||!e.experiment?(a(),r("div",sn,"Config diff missing")):N("",!0)]),default:o(()=>[g(T(d.id),1)],void 0,!0),_:2},1024)]),_:1},8,["itemList"])}const dn=F(nn,[["render",ln],["__file","ExperimentVariantsCard.vue"]]),un=j({__name:"ExperimentDetailView",setup(M,{expose:t}){t();const c=L(),{data:e}=E(X()),x=D(),y=D(),s=m(()=>d.value?.state.lifecyclePhase),l=z(c.params.id),{data:d,error:u}=E(I(l||"")),S=m(()=>e.value?.serverGameConfig.PlayerExperiments),f=m(()=>e.value?.serverGameConfig.PlayerExperiments[l]),P=m(()=>!f.value),B=[{label:"Details"},{label:"Audience & Targeting"},{label:"Audit Log"}],k=m(()=>{const h=[];P.value&&h.push({title:"Experiment removed",variant:"danger",message:`The experiment '${d.value?.stats.displayName}' is missing from the game config and has been disabled. Restore the experiment to your game config to re-enable it.`,dataTest:"missing-experiment-alert"});const v=[];if(ge(d.value)){if(Object.entries(d.value.state.variants).forEach(([w,_])=>{_.isConfigMissing===!0&&v.push(w)}),v.length===1)h.push({title:"Variant removed",variant:"warning",message:`The variant '${v[0]}' has been removed from the game config and has been disabled. Restore the variant to your game config to re-enable it.`});else if(v.length>1){let w="";for(;v.length>0;)w+=`'${v.shift()}'`,v.length>1?w+=", ":v.length===1&&(w+=" and ");h.push({title:"Variants removed",variant:"warning",message:`The variants ${w} have been removed from the game config and has been disabled. Restore the variant to your game config to re-enable it.`})}const p=[];if(d.value.state.controlWeight===0&&p.push("Control group"),Object.entries(d.value.state.variants).forEach(([w,_])=>{_.weight===0&&p.push(w)}),p.length===1)h.push({title:"Variant inaccessible",variant:"warning",message:`The variant '${p[0]}' has a weight of 0%. This means that the variant will never be shown to any players. Is this what you intended?`});else if(p.length>1){let w="";for(;p.length>0;)w+=`'${p.shift()}'`,p.length>1?w+=", ":p.length===1&&(w+=" and ");h.push({title:"Variants inaccessible",variant:"warning",message:`The variants ${w} have been removed from the game config and has been disabled. Restore the variant to your game config to re-enable it.`})}}return h}),O={route:c,gameData:e,advancePhaseModal:x,editExperimentModal:y,phase:s,experimentId:l,singleExperimentData:d,singleExperimentError:u,playerExperiments:S,experiment:f,isExperimentMissing:P,tabOptions:B,headerAlerts:k,computed:m,ref:D,get useRoute(){return L},get MViewContainer(){return Me},get MTwoColumnLayout(){return De},get MPageOverviewCard(){return Se},get MTabLayout(){return Ae},get MCard(){return xe},get useSubscription(){return E},AuditLogCard:Ie,ExperimentAdvancePhaseForm:We,ExperimentForm:it,ExperimentOverviewList:kt,ExperimentPhaseOverview:Vt,ExperimentTargetAudience:tn,ExperimentVariantsCard:dn,ConfigContentsCard:Be,PlayerListCard:Ve,TargetingCard:Le,get routeParamToSingleValue(){return z},get isNullOrUndefined(){return ge},get getSingleExperimentSubscriptionOptions(){return I},get getGameDataSubscriptionOptions(){return X}};return Object.defineProperty(O,"__isScriptSetup",{enumerable:!1,value:!0}),O}}),mn={class:"tw-mb-5"},cn={key:0,class:"tw-my-1 tw-text-xs+ tw-text-neutral-500"},gn={key:1,class:"tw-my-1 tw-text-xs+ tw-text-neutral-500"};function pn(M,t,c,e,x,y){const s=R("meta-raw-data");return a(),A(e.MViewContainer,{permission:"api.experiments.view","is-loading":!e.singleExperimentData||!e.playerExperiments,error:e.singleExperimentError,alerts:e.headerAlerts,"full-width":""},{overview:o(()=>[i(e.MPageOverviewCard,{id:e.experimentId,title:e.singleExperimentData.stats.displayName,subtitle:e.singleExperimentData.stats.description,"data-testid":"experiment-detail-overview-card"},{buttons:o(()=>[i(e.ExperimentForm,{ref:"editExperimentModal","experiment-id":e.experimentId},null,8,["experiment-id"]),i(e.ExperimentAdvancePhaseForm,{ref:"advancePhaseModal","experiment-id":e.experimentId},null,8,["experiment-id"])]),default:o(()=>[n("div",mn,[i(e.ExperimentPhaseOverview)]),i(e.ExperimentOverviewList),t[0]||(t[0]=n("div",{class:"tw-mt-4 tw-text-sm tw-font-semibold"},"Performance Tip",-1)),["Ongoing"].includes(e.phase)?(a(),r("p",cn,"This experiment is currently adding "+T(e.singleExperimentData.combinations.currentCombinations-e.singleExperimentData.combinations.newCombinations)+" live game config combinations to the total of "+T(e.singleExperimentData.combinations.currentCombinations)+" possible combinations.",1)):N("",!0),["Testing","Paused","Concluded"].includes(e.phase)?(a(),r("p",gn,"This experiment is currently not running and thus is not affecting game server memory use.")):N("",!0)],void 0,!0),_:1},8,["id","title","subtitle"])]),default:o(()=>[i(e.MTabLayout,{tabs:e.tabOptions},{"tab-0":o(()=>[e.isExperimentMissing?(a(),A(e.MCard,{key:1,title:""},{default:o(()=>t[1]||(t[1]=[n("div",{class:"justify-content-center py-5"},"This experiment is missing from the game config and cannot be displayed.",-1)]),void 0,!0),_:1})):(a(),A(e.ConfigContentsCard,{key:0,"experiment-id":e.experimentId,"hide-no-diffs":"","exclude-server-libraries":""},null,8,["experiment-id"])),i(s,{kvPair:e.singleExperimentData,name:"experimentInfo"},null,8,["kvPair"])]),"tab-1":o(()=>[i(e.MTwoColumnLayout,null,{default:o(()=>[i(e.ExperimentTargetAudience,{"data-testid":"experiment-detail-target-audience-card"}),i(e.ExperimentVariantsCard,{"experiment-id":e.experimentId,"data-testid":"experiment-detail-variants-card"},null,8,["experiment-id"]),i(e.TargetingCard,{"target-condition":e.singleExperimentData.state.targetCondition,"owner-title":"This experiment","data-testid":"experiment-detail-segments-card"},null,8,["target-condition"]),i(e.PlayerListCard,{"player-ids":e.singleExperimentData.state.testerPlayerIds,title:"Test Players","empty-message":"No players have been assigned to test this experiment.","data-testid":"experiment-detail-test-players-card"},null,8,["player-ids"])],void 0,!0),_:1}),i(s,{kvPair:e.experiment,name:"experiment"},null,8,["kvPair"])]),"tab-2":o(()=>[i(e.MTwoColumnLayout,null,{default:o(()=>[i(e.AuditLogCard,{"target-type":"$Experiment","target-id":e.experimentId},null,8,["target-id"])],void 0,!0),_:1}),i(s,{kvPair:e.experiment,name:"experiment"},null,8,["kvPair"]),i(s,{kvPair:e.singleExperimentData,name:"experimentInfo"},null,8,["kvPair"])]),_:1})]),_:1},8,["is-loading","error","alerts"])}const Qn=F(un,[["render",pn],["__file","ExperimentDetailView.vue"]]);export{Qn as default};
