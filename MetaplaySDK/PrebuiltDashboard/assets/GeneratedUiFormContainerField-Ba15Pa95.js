import{d as S,I as y,J as F,K as b,c as r,h as C,a0 as G,E as M,D as f,H as V,a as g,e as U,w as I,l as N,F as j,r as E,t as P,o as s,p as O,m as T,_ as L}from"./index-B7jvAjdE.js";import{G as k}from"./GeneratedUiFormDynamicComponent-DrqrTIRR.js";const K=S({__name:"GeneratedUiFormContainerField",props:{...y,value:{type:Object,default:()=>({})}},emits:F,setup(i,{expose:o,emit:n}){o();const e=i,d=n,{displayName:p,update:t}=b(e,d),l=r(()=>e.fieldSchema.fields.filter(a=>!a.notEditable)),m=r(()=>new Set(e.fieldSchema.fields.map(a=>V(a.fieldName)))),u=r(()=>Object.fromEntries(Object.entries(e.value).filter(([a,c])=>a==="$type"||m.value.has(a))));C(()=>{(Object.entries(e.value).some(([a,c])=>!(a==="$type"||m.value.has(a)))||Object.entries(e.value).length<=1)&&setTimeout(()=>{t(u.value)},10)});const _=a=>a in e.value&&e.value[a]!==void 0,w=r(()=>e.isTargetingMultiplePlayers||e.disabled?!1:l.value.some(a=>!h(a))),h=a=>!e.disabled&&f(e.fieldSchema,e.logicVersion)&&f(a,e.logicVersion),v={props:e,emit:d,displayName:p,emitUpdate:t,editableFields:l,schemaFields:m,valueAsInput:u,hasValue:_,shouldShowPlayersLogicVersionMismatchWarning:w,isAvailableInLogicVersion:h,update:(a,c)=>{t({...u.value,[a]:c})},computed:r,onMounted:C,get MCallout(){return G},get generatedUiFieldFormEmits(){return F},get generatedUiFieldFormProps(){return y},get useGeneratedUiFieldForm(){return b},get EGeneratedUiTypeKind(){return M},get isVersionInRange(){return f},get newtonsoftCamelCase(){return V},GeneratedUiFormDynamicComponent:k};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),A={key:0,class:"tw-space-y-2"},D={key:1};function x(i,o,n,e,d,p){return i.fieldSchema.typeKind===e.EGeneratedUiTypeKind.Class&&i.fieldSchema.fields?(s(),g("div",A,[e.shouldShowPlayersLogicVersionMismatchWarning?(s(),U(e.MCallout,{key:0,class:"tw-mt-3",title:"Logic Version Mismatch",variant:"warning"},{default:I(()=>o[0]||(o[0]=[O("Some members are not available in this player's logic version, as such these members are disabled.")]),void 0,!0),_:1})):N("",!0),(s(!0),g(j,null,E(e.editableFields,t=>(s(),U(e.GeneratedUiFormDynamicComponent,T(e.props,{key:t.fieldName,ref_for:!0},{fieldInfo:t,value:e.hasValue(e.newtonsoftCamelCase(t.fieldName))?n.value[e.newtonsoftCamelCase(t.fieldName)]:t.default,onInput:l=>e.update(e.newtonsoftCamelCase(t.fieldName),l),fieldPath:i.fieldPath.length===0?t.fieldName:i.fieldPath+"/"+t.fieldName,contextObj:i.fieldSchema.useAsContext?n.value:i.contextObj,logicVersion:e.props.logicVersion,disabled:!e.isAvailableInLogicVersion(t),isTargetingMultiplePlayers:i.isTargetingMultiplePlayers}),null,16,["fieldInfo","value","onInput","fieldPath","contextObj","logicVersion","disabled","isTargetingMultiplePlayers"]))),128))])):(s(),g("div",D,P(e.displayName)+": "+P(n.value),1))}const H=L(K,[["render",x],["__file","GeneratedUiFormContainerField.vue"]]);export{H as default};
