import{cI as t,ad as u}from"./index-B7jvAjdE.js";const m=u();function k(s,d){return{setup:(e,l,a)=>{const c=t.CancelToken.source(),o=e.url??s,r=e.method??d;console.assert(o!==void 0,"URL must be defined"),console.assert(r!==void 0,"Method must be defined");const i=o+(e.queryString?`?${e.queryString}`:"");return m.request({url:i,method:r,cancelToken:c.token,data:e.data}).then(n=>{l(n)}).catch(n=>{t.isCancel(n)||a(n)}),c},cancel:e=>{e.cancel("Request canceled by user.")}}}export{k as m};
