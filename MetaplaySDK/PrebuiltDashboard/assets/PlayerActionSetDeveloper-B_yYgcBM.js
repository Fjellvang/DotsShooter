import{d as b,x as u,f as d,c,ad as v,ae as m,o as _,a as M,k as g,w as h,n as t,l as x,_ as A}from"./index-B7jvAjdE.js";import{M as k}from"./MActionModalButton-CvWVuTB-.js";import{M as B}from"./MInputSwitch-C-Z-JJsG.js";import{a as S}from"./players-CydHenLG.js";import"./MActionModal-coQLkvWs.js";import"./index-fVjXqxSF.js";import"./index-B_QkKjtG.js";const N=b({__name:"PlayerActionSetDeveloper",props:{playerId:{}},setup(n,{expose:o}){o();const r=n,e=v(),{data:a,refresh:l}=u(S(r.playerId)),s=d(!1),f=c(()=>s.value!==a.value.model.isDeveloper);function w(){s.value=a.value.model.isDeveloper}const{showSuccessNotification:i}=m();async function y(){const D=await e.post(`/players/${a.value.id}/developerStatus?newStatus=${s.value}`);i(`${a.value.model.playerName??a.value.id} ${D.data.isDeveloper?"set as developer":"no longer set as developer"}.`),l()}const p={props:r,gameServerApi:e,playerData:a,playerRefresh:l,isDeveloper:s,isStatusChanged:f,resetModal:w,showSuccessNotification:i,updateDeveloperStatus:y,computed:c,ref:d,get useGameServerApi(){return v},get MInputSwitch(){return B},get MActionModalButton(){return k},get useNotifications(){return m},get useSubscription(){return u},get getSinglePlayerSubscriptionOptions(){return S}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),P={key:0},C={class:"tw-flex tw-justify-between"};function I(n,o,r,e,a,l){return e.playerData?(_(),M("div",P,[g(e.MActionModalButton,{"modal-title":"Manage Developer Status",action:e.updateDeveloperStatus,"trigger-button-label":e.playerData.model.isDeveloper?"Remove Dev Status":"Mark as Developer",variant:"warning","ok-button-label":"Save Settings","ok-button-disabled-tooltip":e.isStatusChanged?void 0:`Toggle the switch to ${e.playerData.model.isDeveloper?"remove":"assign"} this player as a developer.`,permission:"api.players.set_developer",onShow:e.resetModal,"data-testid":"action-set-developer"},{default:h(()=>[t("div",C,[o[1]||(o[1]=t("span",{class:"tw-font-semibold"},"Developer Status",-1)),g(e.MInputSwitch,{class:"tw-relative tw-top-1 tw-mr-3","model-value":e.isDeveloper,name:"isPlayerDeveloper",size:"small","onUpdate:modelValue":o[0]||(o[0]=s=>e.isDeveloper=s),"data-testid":"developer-status-toggle"},null,8,["model-value"])]),o[2]||(o[2]=t("div",{class:"tw-text-xs+ tw-text-neutral-500"},[t("div",{class:"tw-mb-1"},"Developer players have special powers. For instance, developers can:"),t("ul",{class:"tw-ps-1.5"},[t("li",null,"- Login during maintenance."),t("li",null,"- Execute development-only actions in production."),t("li",null,"- Allow validating iOS sandbox in-app purchases."),t("li",null,"- Bypass logic version downgrade check in production.")])],-1))]),_:1},8,["trigger-button-label","ok-button-disabled-tooltip"])])):x("",!0)}const F=A(N,[["render",I],["__file","PlayerActionSetDeveloper.vue"]]);export{F as default};
