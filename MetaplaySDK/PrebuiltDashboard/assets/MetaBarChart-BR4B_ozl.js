import{d as O,cG as B,dP as _,dQ as j,f as T,h as q,bf as A,C as E,dR as C,co as K,dS as L,o as U,e as G,_ as J}from"./index-B7jvAjdE.js";import{C as b,B as N,a as P,b as S,L as D}from"./chart-DSWP3kjQ.js";const R={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Q={ariaLabel:{type:String},ariaDescribedby:{type:String}},$={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...R,...Q},z=j[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function d(e){return L(e)?C(e):e}function F(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return L(t)?new Proxy(e,{}):e}function H(e,t){const a=e.options;a&&t&&Object.assign(a,t)}function w(e,t){e.labels=t}function M(e,t,a){const s=[];e.datasets=t.map(n=>{const r=e.datasets.find(u=>u[a]===n[a]);return!r||!n.data||s.includes(r)?{...n}:(s.push(r),Object.assign(r,n),r)})}function V(e,t){const a={labels:[],datasets:[]};return w(a,e.labels),M(a,e.datasets,t),a}const W=O({props:$,setup(e,t){let{expose:a,slots:s}=t;const n=T(null),r=B(null);a({chart:r});const u=()=>{if(!n.value)return;const{type:o,data:f,options:p,plugins:c,datasetIdKey:m}=e,y=V(f,m),i=F(y,f);r.value=new b(n.value,{type:o,data:i,options:{...p},plugins:c})},h=()=>{const o=C(r.value);o&&(e.destroyDelay>0?setTimeout(()=>{o.destroy(),r.value=null},e.destroyDelay):(o.destroy(),r.value=null))},k=o=>{o.update(e.updateMode)};return q(u),A(h),E([()=>e.options,()=>e.data],(o,f)=>{let[p,c]=o,[m,y]=f;const i=C(r.value);if(!i)return;let g=!1;if(p){const l=d(p),v=d(m);l&&l!==v&&(H(i,l),g=!0)}if(c){const l=d(c.labels),v=d(y.labels),x=d(c.datasets),I=d(y.datasets);l!==v&&(w(i.config.data,l),g=!0),x&&x!==I&&(M(i.config.data,x,e.datasetIdKey),g=!0)}g&&K(()=>{k(i)})},{deep:!0}),()=>_("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:n},[_("p",{},[s.default?s.default():""])])}});function X(e,t){return b.register(t),O({props:R,setup(a,s){let{expose:n}=s;const r=B(null),u=h=>{r.value=h?.chart};return n({chart:r}),()=>_(W,z({ref:u},{type:e,...a}))}})}const Y=X("bar",N),Z=O({__name:"MetaBarChart",props:{data:{},chartId:{},options:{default:void 0},height:{default:200}},setup(e,{expose:t}){t(),b.register(P,S,D);const s={defaultOptions:{responsive:!0,scales:{x:{display:!1},y:{min:0,suggestedMax:10,grid:{display:!1},border:{display:!1}}},datasets:{bar:{borderRadius:2e3,borderSkipped:!1}},backgroundColor:"rgb(45, 144, 220)"},get ChartJS(){return b},get BarElement(){return P},get CategoryScale(){return S},get LinearScale(){return D},get Bar(){return Y}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function ee(e,t,a,s,n,r){return U(),G(s.Bar,{options:a.options||s.defaultOptions,data:a.data,height:200,"chart-id":"concurrents-chart"},null,8,["options","data"])}const re=J(Z,[["render",ee],["__file","MetaBarChart.vue"]]);export{re as default};
