import{dC as m,a9 as M,d as v,c as l,bg as $,L as D,o as p,e as C,w as b,a as S,t as E,_ as A}from"./index-B7jvAjdE.js";function T(i,o){const t=m.duration(i);if(t.asSeconds()===0)return"0 seconds";if(o&&t.asMilliseconds()<1e3)return"< 1 second";let e=[];return e=a(e,t.years(),"y",!1),e=a(e,t.months(),"mo",!1),e=a(e,t.days(),"d",!1),e=a(e,t.hours(),"h",!1),e=a(e,t.minutes(),"min",!1),e=a(e,t.seconds(),"s",!1),o||(e=a(e,t.milliseconds(),"ms",!1)),e.length===1?k(e[0]):e.join(" ")}function _(i,o){const t=m.duration(i);if(t.asSeconds()===0)return"0 seconds";if(o&&t.asMilliseconds()<1e3)return"< 1 second";let e=[];if(e=a(e,t.years(),"year",!0),e=a(e,t.months(),"month",!0),e=a(e,t.days(),"day",!0),e=a(e,t.hours(),"hour",!0),e=a(e,t.minutes(),"minute",!0),e=a(e,t.seconds(),"second",!0),o||(e=a(e,t.milliseconds(),"millisecond",!0)),e.length===1){const u=e[0],c=z(u);return c==="milliseconds"&&o?u:c?`${u} 0 ${c}`:u}else return e.length>1?e.slice(0,-1).join(" ")+" and "+e[e.length-1]:e.join("")}function a(i,o,t,e){if(o!==0){const u=e?M(o,t):`${o}${t}`;return[...i,u]}else return i}function k(i){const o={y:"year",mo:"month",d:"day",h:"hour",min:"minute",s:"second",ms:"millisecond"},t=/\d+/.exec(i);if(!t)throw new Error(`Invalid time unit string: ${i}`);const e=/[a-zA-Z]+/.exec(i);if(!e)throw new Error(`Invalid time unit string: ${i}`);const u=t[0],c=e[0],h=`${u} ${o[c]}`,f=u>"1"?"s":"";return`${h}${f}`}function z(i){const o=i.replace(/\d+ /,""),t={year:"months",years:"months",month:"days",months:"days",day:"hours",days:"hours",hour:"minutes",hours:"minutes",minute:"seconds",minutes:"seconds",second:"milliseconds",seconds:"milliseconds",millisecond:void 0,milliseconds:void 0};if(!(o in t))throw new Error(`Invalid time unit string: ${i}`);return t[o]}const B=v({__name:"MetaDuration",props:{duration:{},showAs:{default:"humanized"},disableTooltip:{type:Boolean},showAsTotalDays:{type:Boolean},hideMilliseconds:{type:Boolean}},setup(i,{expose:o}){o();const t=i,e=l(()=>{if(!(m.duration(t.duration).asMilliseconds()===0||t.disableTooltip))return t.showAs==="exactDuration"?h.value:g.value}),u=l(()=>{switch(t.showAs){case"humanized":return f.value;case"humanizedSentenceCase":return $(f.value);case"top-two":return y(2);case"top-three":return y(3);case"exactDuration":return c.value;default:return"invalid"}}),c=l(()=>T(t.duration,t.hideMilliseconds)),h=l(()=>_(t.duration,t.hideMilliseconds)+" exactly"),f=l(()=>{const s=m.duration(t.duration);return s.asMilliseconds()===0?"0 seconds":s.humanize()}),g=l(()=>{const s=m.duration(t.duration);let n="";return s.asSeconds()===0?n="0 seconds":(t.hideMilliseconds||(n=d(n,s.milliseconds(),"millisecond")),n=d(n,s.seconds(),"second"),n=d(n,s.minutes(),"minute"),n=d(n,s.hours(),"hour"),t.showAsTotalDays?n=d(n,Math.trunc(s.asDays()),"day"):(n=d(n,s.days(),"day"),n=d(n,s.months(),"month"),n=d(n,s.years(),"year"))),n+" exactly"});function y(s){const n=[],r=m.duration(t.duration);return n.unshift(`${Math.round(r.milliseconds())}ms`),r.asSeconds()>=1&&n.unshift(`${r.seconds()}s`),r.asMinutes()>=1&&n.unshift(`${r.minutes()}m`),r.asHours()>=1&&n.unshift(`${r.hours()}h`),t.showAsTotalDays?r.asDays()>=1&&n.unshift(`${r.asDays()}d`):(r.asDays()>=1&&n.unshift(`${r.days()}d`),r.asMonths()>=1&&n.unshift(`${r.months()}m`),r.asYears()>=1&&n.unshift(`${r.years()}y`)),n.slice(0,s).join(" ")}function d(s,n,r){if(n===0)return s;{const w=s===""?"":s.includes("and")?", ":" and ";return`${n} ${r}${n===1?"":"s"}${w}${s}`}}const x={props:t,tooltipContent:e,bodyContent:u,exactTimeString:c,exactTimeTooltip:h,humanizedString:f,exactDurationString:g,topString:y,constructExactTimeUnit:d,get moment(){return m},computed:l,get MTooltip(){return D},get stringToSentenceCase(){return $},get constructExactTimeCompactString(){return T},get constructExactTimeVerboseString(){return _}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),U={key:0},j={key:1,class:"text-danger"};function I(i,o,t,e,u,c){return p(),C(e.MTooltip,{content:e.tooltipContent},{default:b(()=>[e.bodyContent!=="invalid"?(p(),S("span",U,E(e.bodyContent),1)):(p(),S("span",j,"Invalid showAs prop!"))],void 0,!0),_:1},8,["content"])}const V=A(B,[["render",I],["__file","MetaDuration.vue"]]);export{V as default};
