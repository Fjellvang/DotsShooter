import{d as O,c as n,f as g,bf as _,bg as i,bh as l,N as m,L as S,b9 as w,bi as M,o as u,e as x,B as F,w as C,n as h,t as c,k,a as b,$ as G,_ as $}from"./index-B7jvAjdE.js";const B=O({__name:"MetaTime",props:{date:{},disableTooltip:{type:Boolean},showAs:{default:"timeago"}},setup(d,{expose:f}){f();const a=d,{hasGameTimeOffset:t}=M(),y=n(()=>{const H=e.value.toFormat("yyyy-MM-dd HH:mm:ss"),p=e.value.setZone("UTC").toFormat("yyyy-MM-dd HH:mm:ss");return a.showAs.startsWith("timeago")?{firstLine:`Local: ${H}`,utc:`UTC: ${p}`}:{firstLine:i(o.value),utc:`UTC: ${p}`}}),T=n(()=>{switch(a.showAs){case"timeago":return o.value;case"timeagoSentenceCase":return i(o.value);case"time":return e.value.toFormat("HH:mm:ss");case"date":return`${e.value.toFormat("MMM")} ${l(e.value.day)}, ${e.value.toFormat("yyyy")}`;case"datetime":return`${e.value.toFormat("MMM")} ${l(e.value.day)}, ${e.value.toFormat("yyyy")} ${e.value.toFormat("HH:mm:ss")}`;default:return"invalid"}}),e=n(()=>a.date instanceof m?a.date:m.fromISO(a.date)),o=n(()=>(s.value===void 0&&r(),e.value.toRelative()??"Invalid DateTime")),s=g();_(()=>{clearTimeout(s.value)});function r(){s.value=setTimeout(()=>{r()},5e3)}const v={props:a,hasGameTimeOffset:t,tooltipContent:y,bodyContent:T,luxonDateTime:e,timeAgoString:o,refreshTimer:s,refreshPeriodically:r,get DateTime(){return m},ref:g,computed:n,onUnmounted:_,get MTooltip(){return S},get MGameTimeOffsetHint(){return w},get useGameTimeOffset(){return M},get stringToSentenceCase(){return i},get toOrdinalString(){return l}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),D={key:1,class:"text-danger"};function A(d,f,a,t,y,T){return u(),x(t.MTooltip,null,F({default:C(()=>[t.bodyContent!=="invalid"?(u(),b("span",{key:0,class:G(t.hasGameTimeOffset?"text-warning":"")},c(t.bodyContent),3)):(u(),b("span",D,"Invalid showAs prop!"))],void 0,!0),_:2},[a.disableTooltip?void 0:{name:"content",fn:C(()=>[h("div",null,c(t.tooltipContent.firstLine),1),h("div",null,c(t.tooltipContent.utc),1),k(t.MGameTimeOffsetHint,{class:"tw-mt-2"})]),key:"0"}]),1024)}const U=$(B,[["render",A],["__file","MetaTime.vue"]]);export{U as default};
