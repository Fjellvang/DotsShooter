import{d as _,x as l,ad as p,ae as c,b as f,o as g,a as b,k as u,w as S,n as d,l as v,_ as P}from"./index-B7jvAjdE.js";import{M as w}from"./MActionModalButton-CvWVuTB-.js";import{a as m}from"./players-CydHenLG.js";import"./MActionModal-coQLkvWs.js";import"./index-fVjXqxSF.js";const h=_({__name:"PlayerActionReset",props:{playerId:{}},setup(n,{expose:t}){t();const r=n,e=p(),{data:s,refresh:o}=l(m(r.playerId)),{showSuccessNotification:a}=c();async function y(){await e.post(`/players/${s.value.id}/resetState`),a("Player state reset to defaults."),o()}const i={props:r,gameServerApi:e,playerData:s,playerRefresh:o,showSuccessNotification:a,resetPlayerState:y,get useGameServerApi(){return p},get MActionModalButton(){return w},get useNotifications(){return c},get useSubscription(){return l},get getSinglePlayerSubscriptionOptions(){return m}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),A={key:0};function R(n,t,r,e,s,o){const a=f("meta-no-seatbelts");return e.playerData?(g(),b("div",A,[u(e.MActionModalButton,{"modal-title":"Reset Player State",action:e.resetPlayerState,"trigger-button-label":"Reset Player",variant:"danger","ok-button-label":"Reset Player",permission:"api.players.reset_player","data-testid":"action-reset-player-state"},{default:S(()=>[t[0]||(t[0]=d("p",{class:"tw-mb-2"},"Resetting the player will re-initialize their game progression. Important things like past purchases and connected devices will not be wiped.",-1)),t[1]||(t[1]=d("p",null,"This action is great during development, but should likely never be used in production with real players!",-1)),u(a,{class:"tw-mt-4",name:e.playerData.model.playerName||"n/a"},null,8,["name"])]),_:1})])):v("",!0)}const C=P(h,[["render",R],["__file","PlayerActionReset.vue"]]);export{C as default};
