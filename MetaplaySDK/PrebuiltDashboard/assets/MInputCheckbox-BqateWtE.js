import{ar as B,as as L,ay as u,aO as $,aP as q,at as A,au as X,aQ as j,aR as z,aL as G,aN as U,aT as Q,aF as Z,aS as J,d as W,an as y,c as g,ap as I,ao as T,aq as P,o as k,a as w,m as v,t as C,l as S,n as p,aX as V,b4 as H,$ as D,a2 as Y,k as ee,w as te,p as ne,_ as ae}from"./index-B7jvAjdE.js";import{t as re,s as de,d as se}from"./index-B_QkKjtG.js";import{M as oe}from"./MInputHintMessage-DbuBS4Kn.js";var O=B("checkbox").parts("root","label","control","indicator"),m=O.build(),d=L({getRootId:e=>e.ids?.root??`checkbox:${e.id}`,getLabelId:e=>e.ids?.label??`checkbox:${e.id}:label`,getControlId:e=>e.ids?.control??`checkbox:${e.id}:control`,getHiddenInputId:e=>e.ids?.hiddenInput??`checkbox:${e.id}:input`,getRootEl:e=>d.getById(e,d.getRootId(e)),getHiddenInputEl:e=>d.getById(e,d.getHiddenInputId(e))});function F(e,a,t){const n=e.context.isDisabled,o=e.context.readOnly,i=!n&&e.context.focused,c=!n&&e.context.focusVisible,f=e.context.isChecked,b=e.context.isIndeterminate,l={"data-active":u(e.context.active),"data-focus":u(i),"data-focus-visible":u(c),"data-readonly":u(o),"data-hover":u(e.context.hovered),"data-disabled":u(n),"data-state":b?"indeterminate":e.context.checked?"checked":"unchecked","data-invalid":u(e.context.invalid)};return{checked:f,disabled:n,indeterminate:b,focused:i,checkedState:e.context.checked,setChecked(s){a({type:"CHECKED.SET",checked:s,isTrusted:!1})},toggleChecked(){a({type:"CHECKED.TOGGLE",checked:f,isTrusted:!1})},getRootProps(){return t.label({...m.root.attrs,...l,dir:e.context.dir,id:d.getRootId(e.context),htmlFor:d.getHiddenInputId(e.context),onPointerMove(){n||a({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){n||a({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(s){$(s)===d.getHiddenInputEl(e.context)&&s.stopPropagation()}})},getLabelProps(){return t.element({...m.label.attrs,...l,dir:e.context.dir,id:d.getLabelId(e.context)})},getControlProps(){return t.element({...m.control.attrs,...l,dir:e.context.dir,id:d.getControlId(e.context),"aria-hidden":!0})},getIndicatorProps(){return t.element({...m.indicator.attrs,...l,dir:e.context.dir,hidden:!b&&!e.context.checked})},getHiddenInputProps(){return t.input({id:d.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:f,disabled:n,"aria-labelledby":d.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:q,onFocus(){const s=Q();a({type:"CONTEXT.SET",context:{focused:!0,focusVisible:s}})},onBlur(){a({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(s){if(o){s.preventDefault();return}const h=s.currentTarget.checked;a({type:"CHECKED.SET",checked:h,isTrusted:!0})}})}}}var{not:_}=Z;function K(e){const a=A(e);return X({id:"checkbox",initial:"ready",context:{checked:!1,value:"on",disabled:!1,...a,fieldsetDisabled:!1,focusVisible:!1},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:_("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:_("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{isIndeterminate:t=>E(t.checked),isChecked:t=>M(t.checked),isDisabled:t=>!!t.disabled||t.fieldsetDisabled},states:{ready:{}}},{guards:{isTrusted:(t,n)=>!!n.isTrusted},activities:{trackPressEvent(t){if(!t.isDisabled)return j({pointerNode:d.getRootEl(t),keyboardNode:d.getHiddenInputEl(t),isValidKey:n=>n.key===" ",onPress:()=>t.active=!1,onPressStart:()=>t.active=!0,onPressEnd:()=>t.active=!1})},trackFocusVisible(t){if(!t.isDisabled)return z({root:d.getRootNode(t)})},trackFormControlState(t,n,{send:o,initialContext:i}){return re(d.getHiddenInputEl(t),{onFieldsetDisabledChange(c){t.fieldsetDisabled=c},onFormReset(){o({type:"CHECKED.SET",checked:!!i.checked})}})}},actions:{setContext(t,n){Object.assign(t,n.context)},syncInputElement(t){const n=d.getHiddenInputEl(t);n&&(de(n,t.isChecked),n.indeterminate=t.isIndeterminate)},removeFocusIfNeeded(t){t.disabled&&t.focused&&(t.focused=!1,t.focusVisible=!1)},setChecked(t,n){N.checked(t,n.checked)},toggleChecked(t){const n=E(t.checked)?!0:!t.checked;N.checked(t,n)},dispatchChangeEvent(t){const n=d.getHiddenInputEl(t);se(n,{checked:M(t.checked)})}}})}function E(e){return e==="indeterminate"}function M(e){return E(e)?!1:!!e}var ie={change:e=>{e.onCheckedChange?.({checked:e.checked})}},N={checked:(e,a)=>{G(e.checked,a)||(e.checked=a,ie.change(e))}},R=U()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),ce=J(R);const le=Object.freeze(Object.defineProperty({__proto__:null,anatomy:O,connect:F,machine:K,props:R,splitProps:ce},Symbol.toStringTag,{value:"Module"})),ue=W({inheritAttrs:!1,__name:"MInputCheckbox",props:{modelValue:{type:Boolean,default:void 0},label:{default:void 0},disabled:{type:Boolean,default:!1},variant:{default:"default"},hintMessage:{default:void 0},description:{default:void 0},size:{default:"default"}},emits:["update:modelValue"],setup(e,{expose:a,emit:t}){a();const n=e,{internalDisabled:o}=y(g(()=>n.disabled)),i=t,c=g(()=>{const r=n.size==="default"?"tw-w-4 tw-h-4":"tw-w-3.5 tw-h-3.5";if(o.value)if(h.value.checked)switch(n.variant){case"danger":return`${r} tw-border-red-200 tw-bg-red-300`;case"success":return`${r} tw-border-green-200 tw-bg-green-300`;default:return`${r} tw-border-neutral-200 tw-bg-neutral-300`}else switch(n.variant){case"danger":return`${r} tw-border-red-200 tw-bg-neutral-50`;case"success":return`${r} tw-border-green-200 tw-bg-neutral-50`;default:return`${r} tw-border-neutral-200 tw-bg-neutral-50`}if(h.value.checked)switch(n.variant){case"danger":return`${r} tw-border-red-400 tw-bg-red-500`;case"success":return`${r} tw-border-green-500 tw-bg-green-500`;default:return`${r} tw-border-blue-300 tw-bg-blue-500`}else switch(n.variant){case"danger":return`${r} tw-border-red-400 tw-bg-neutral-50`;case"success":return`${r} tw-border-green-500 tw-bg-neutral-50`;default:return`${r} tw-border-neutral-300 tw-bg-neutral-50`}}),f=g(()=>{const r=n.size==="small"?"tw-text-sm":"tw-text-base";return o.value?n.variant==="danger"?`${r} tw-text-red-300`:`${r} tw-text-neutral-400`:n.variant==="danger"?`${r} tw-text-red-400`:`${r} tw-text-inherit`}),b=g(()=>({disabled:o.value,checked:n.modelValue})),[l,s]=I(K({id:T("checkbox"),onCheckedChange:r=>{i("update:modelValue",r.checked!==!1)}}),{context:b}),h=g(()=>F(l.value,s,P)),x={props:n,internalDisabled:o,emit:i,checkboxVariantClasses:c,descriptionVariantClasses:f,transientContext:b,state:l,send:s,api:h,computed:g,get makeIntoUniqueKey(){return T},get checkbox(){return le},get normalizeProps(){return P},get useMachine(){return I},get useEnableAfterSsr(){return y},MInputHintMessage:oe};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),be={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"tw-w-4 tw-h-4"},he={key:0};function ge(e,a,t,n,o,i){return k(),w("label",v(n.api.getRootProps(),{class:"tw-mb-0"}),[t.label?(k(),w("div",v({key:0},n.api.getLabelProps(),{class:["tw-block tw-text-sm tw-leading-6",{"tw-text-neutral-400":n.internalDisabled,"tw-font-bold tw-mb-0.5":n.props.size==="default","tw-font-semibold":n.props.size==="small"}]}),C(t.label),17)):S("",!0),p("div",{class:D(["tw-flex tw-items-center",{"tw-cursor-not-allowed":n.internalDisabled,"tw-cursor-pointer":!n.internalDisabled}])},[p("div",v({...e.$attrs,...n.api.controlProps},{class:["tw-text-white tw-shrink-0 tw-border tw-shadow-inner tw-rounded tw-flex tw-items-center tw-justify-center",n.checkboxVariantClasses],tabindex:"0",onKeydown:[a[0]||(a[0]=V(H(c=>n.api.toggleChecked(),["prevent"]),["space"])),a[1]||(a[1]=V(H(c=>n.api.toggleChecked(),["prevent"]),["enter"]))]}),[n.api.checked?(k(),w("svg",be,a[2]||(a[2]=[p("path",{"fill-rule":"evenodd",d:"M12.416 3.376a.75.75 0 0 1 .208 1.04l-5 7.5a.75.75 0 0 1-1.154.114l-3-3a.75.75 0 0 1 1.06-1.06l2.353 2.353 4.493-6.74a.75.75 0 0 1 1.04-.207Z","clip-rule":"evenodd"},null,-1)]))):S("",!0)],16),p("span",{class:D(["tw-ml-1",n.descriptionVariantClasses])},[t.description?(k(),w("span",he,C(t.description),1)):Y(e.$slots,"default",{key:1})],2)],2),p("input",v(n.api.getHiddenInputProps(),{tabindex:"-1"}),null,16),ee(n.MInputHintMessage,{variant:t.variant},{default:te(()=>[ne(C(t.hintMessage),1)],void 0,!0),_:1},8,["variant"])],16)}const we=ae(ue,[["render",ge],["__file","MInputCheckbox.vue"]]);export{we as M};
