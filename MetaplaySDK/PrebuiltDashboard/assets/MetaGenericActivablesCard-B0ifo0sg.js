import{d as x,x as h,A as M,c as g,s as D,v as O,b as S,o as i,e as y,w as n,k as r,a as o,p as l,t as u,_ as k}from"./index-B7jvAjdE.js";import{M as d,a as c}from"./metaListUtils-B-xQ0HnD.js";import{g as f,a as w}from"./activables-DQj9-VnO.js";import{M as N}from"./MetaActivablePhaseBadge-DS0XHNhH.js";import{M as P}from"./MetaActivablesBaseCard-4tvZk2v-.js";const B=x({__name:"MetaGenericActivablesCard",props:{title:{},category:{},emptyMessage:{},customEvaluationIsoDateTime:{},playerId:{},hideDisabled:{type:Boolean},hideConversion:{type:Boolean},longList:{type:Boolean},hideCollapse:{type:Boolean}},setup(b,{expose:s}){s();const t=b,{data:a,refresh:_}=h(M()),{data:C}=h(()=>t.playerId?f(t.playerId,t.customEvaluationIsoDateTime):w(t.customEvaluationIsoDateTime)),m=g(()=>a.value?.activablesMetadata),p=g(()=>m.value?.categories[t.category].shortSingularDisplayName),e=["activable.config.displayName","activable.config.displayShortInfo","activable.config.description","phaseDisplayString"],L=g(()=>{const v=[d.asUnsorted(),new d("Phase","phaseSortOrder",c.Ascending),new d("Phase","phaseSortOrder",c.Descending),new d("Name","activable.config.displayName",c.Ascending),new d("Name","activable.config.displayName",c.Descending)];return t.hideConversion||(v.push(new d("Conversion","conversion",c.Ascending)),v.push(new d("Conversion","conversion",c.Descending))),v}),A={props:t,staticConfigData:a,activablesRefresh:_,activablesData:C,activablesMetadata:m,categoryDisplayName:p,searchFields:e,sortOptions:L,computed:g,get MetaListSortOption(){return d},get MetaListSortDirection(){return c},get MList(){return D},get MListItem(){return O},get useSubscription(){return h},get getAllActivablesForPlayerSubscriptionOptions(){return f},get getAllActivablesSubscriptionOptions(){return w},get getStaticConfigSubscriptionOptions(){return M},MetaActivablePhaseBadge:N,MetaActivablesBaseCard:P};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),R={key:0,class:"text-muted tw-italic"},F={key:1,class:"text-warning"},T={key:2},E={key:3,class:"text-muted tw-italic"},G={key:4,class:"text-muted tw-italic"},z={key:1,class:"text-muted tw-italic"},I={key:2,class:"text-muted tw-italic"},V={key:1,class:"text-muted tw-italic"},j={key:2,class:"text-muted tw-italic"},U={key:0},q={key:1,class:"text-muted tw-italic"};function H(b,s,t,a,_,C){const m=S("meta-time"),p=S("meta-duration");return i(),y(a.MetaActivablesBaseCard,{hideDisabled:t.hideDisabled,hideConversion:t.hideConversion,activables:a.activablesData,playerId:t.playerId,category:t.category,longList:t.longList,emptyMessage:t.emptyMessage,title:t.title,hideCollapse:t.hideCollapse,searchFields:a.searchFields,sortOptions:a.sortOptions,permission:"api.activables.view",onRefreshActivables:a.activablesRefresh},{collapseContents:n(({item:e})=>[r(a.MList,{striped:""},{default:n(()=>[r(a.MListItem,{condensed:""},{"top-right":n(()=>[e.activable.config.activableParams.isEnabled?e.activable.debugState?(i(),o("span",F,"Debug override!")):e.nextPhase?(i(),o("span",T,[r(a.MetaActivablePhaseBadge,{activable:e.activable,phase:e.nextPhase,playerId:t.playerId,typeName:`${a.categoryDisplayName?.toLocaleLowerCase()}`},null,8,["activable","phase","playerId","typeName"]),s[0]||(s[0]=l()),r(m,{date:String(e.nextPhaseStartTime)},null,8,["date"])])):e.scheduleStatus?(i(),o("span",E,"None")):(i(),o("span",G,"No schedule")):(i(),o("span",R,"Disabled"))]),default:n(()=>[s[1]||(s[1]=l("Next Schedule Phase"))],void 0,!0),_:2},1024),r(a.MListItem,{condensed:""},{"top-right":n(()=>[e.activable.state.hasOngoingActivation&&e.activable.state.activationRemaining!==null?(i(),y(p,{key:0,duration:e.activable.state.activationRemaining,showAs:"humanizedSentenceCase"},null,8,["duration"])):e.activable.state.hasOngoingActivation?(i(),o("span",z,"Forever")):(i(),o("span",I,"n/a"))]),default:n(()=>[s[2]||(s[2]=l("Lifetime Left"))],void 0,!0),_:2},1024),r(a.MListItem,{condensed:""},{"top-right":n(()=>[e.activable.state.isInCooldown&&e.activable.state.cooldownRemaining!==null?(i(),y(p,{key:0,duration:e.activable.state.cooldownRemaining,showAs:"humanizedSentenceCase"},null,8,["duration"])):e.activable.state.isInCooldown?(i(),o("span",V,"Forever")):(i(),o("span",j,"n/a"))]),default:n(()=>[s[3]||(s[3]=l("Cooldown Left"))],void 0,!0),_:2},1024),r(a.MListItem,{condensed:""},{"top-right":n(()=>[l(u(e.activable.state.numActivated)+"/"+u(e.activable.config.activableParams.maxActivations||"∞"),1)]),default:n(()=>[s[4]||(s[4]=l("Activations"))],void 0,!0),_:2},1024),r(a.MListItem,{condensed:""},{"top-right":n(()=>[e.activable.state.hasOngoingActivation?(i(),o("span",U,u(e.activable.state.currentActivationNumConsumed)+"/"+u(e.activable.config.activableParams.maxConsumesPerActivation||"∞"),1)):(i(),o("span",q,"n/a"))]),default:n(()=>[s[5]||(s[5]=l("Consumes During Current Activation"))],void 0,!0),_:2},1024),r(a.MListItem,{condensed:""},{"top-right":n(()=>[l(u(e.activable.state.totalNumConsumed)+"/"+u(e.activable.config.activableParams.maxTotalConsumes||"∞"),1)]),default:n(()=>[s[6]||(s[6]=l("Total Consumes"))],void 0,!0),_:2},1024)],void 0,!0),_:2},1024)]),_:1},8,["hideDisabled","hideConversion","activables","playerId","category","longList","emptyMessage","title","hideCollapse","sortOptions","onRefreshActivables"])}const Y=k(B,[["render",H],["__file","MetaGenericActivablesCard.vue"]]);export{Y as M};
