import{d as P,x as h,c as D,ck as d,M as x,dY as p,dX as w,b as u,o as g,a as c,k as t,w as n,n as r,p as s,t as v,bd as _,l as B,_ as M}from"./index-B7jvAjdE.js";import{g as O}from"./leagueUtils-BqF6ffxm.js";import{a as L}from"./leagues-DnPkib1L.js";import{B as y,a as N}from"./progress-GKvrz8Gh.js";const I=P({__name:"LeagueProgressCard",props:{leagueId:{}},setup(m,{expose:a}){a();const i=m,{data:e}=h(L(i.leagueId)),S=D(()=>d.fromISO(e.value.schedule.preview).toMillis()+d.fromISO(e.value.schedule.duration).toMillis()),l={props:i,singleLeagueData:e,totalDurationInMilliseconds:S,get BProgress(){return y},get BProgressBar(){return N},get Duration(){return d},computed:D,get MBadge(){return x},get useSubscription(){return h},get metaScheduleTimeModeDisplayString(){return p},get schedulePhaseDisplayString(){return w},get getPhaseVariant(){return O},get getSingleLeagueSubscriptionOptions(){return L}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),k={key:0},C={key:0,class:"tw-ml-1"},V={key:1,class:"tw-ml-1"},T={class:"tw-w-full"},E={class:"small"},A={class:"tw-w-full"},j={class:"pt-3 pr-2 pb-1 border-right border-dark text-right",style:"position: relative; right: -1px"},z={class:"small"};function X(m,a,i,e,S,l){const f=u("b-col"),o=u("meta-time"),b=u("b-row");return e.singleLeagueData&&e.singleLeagueData.state.currentSeason&&e.singleLeagueData.currentOrNextSeasonSchedule?(g(),c("div",k,[t(b,{class:"tw-my-4"},{default:n(()=>[t(f,{md:""},{default:n(()=>[r("span",null,[a[0]||(a[0]=s("Time mode: ")),t(e.MBadge,{class:"tw-ml-1"},{default:n(()=>[s(v(e.metaScheduleTimeModeDisplayString(e.singleLeagueData.schedule.timeMode)),1)],void 0,!0),_:1})])],void 0,!0),_:1}),t(f,{md:"auto"},{default:n(()=>[r("span",null,[a[2]||(a[2]=s("Next phase:")),e.singleLeagueData.enabled?(g(),c("span",C,[t(e.MBadge,{class:"tw-mr-1",variant:e.getPhaseVariant(e.singleLeagueData.currentOrNextSeasonSchedule.nextPhase.phase)},{default:n(()=>[s(v(e.schedulePhaseDisplayString(e.singleLeagueData.currentOrNextSeasonSchedule.nextPhase.phase)),1)],void 0,!0),_:1},8,["variant"]),t(o,{date:e.singleLeagueData.currentOrNextSeasonSchedule.nextPhase.startTime},null,8,["date"])])):(g(),c("span",V,[t(e.MBadge,{variant:"danger"},{default:n(()=>a[1]||(a[1]=[s("Disabled")]),void 0,!0),_:1})]))])],void 0,!0),_:1})],void 0,!0),_:1}),r("div",T,[r("div",{class:"pb-3 pl-2 border-left border-dark",style:_(`margin-left: ${e.Duration.fromISO(e.singleLeagueData.schedule.preview).toMillis()/e.totalDurationInMilliseconds*100}%; position: relative; left: -1px`)},[a[3]||(a[3]=r("div",{class:"small font-weight-bold"},"Start",-1)),r("div",E,[t(o,{date:e.singleLeagueData.currentOrNextSeasonSchedule.start},null,8,["date"])])],4)]),t(e.BProgress,{class:"font-weight-bold",max:e.totalDurationInMilliseconds,height:"3rem",style:_(e.singleLeagueData.currentOrNextSeasonSchedule.currentPhase.phase==="Inactive"?"filter: contrast(50%) brightness(130%)":"")},{default:n(()=>[t(e.BProgressBar,{value:e.Duration.fromISO(e.singleLeagueData.schedule.preview).toMillis(),variant:"primary",animated:e.singleLeagueData.enabled&&e.singleLeagueData.currentOrNextSeasonSchedule.currentPhase.phase==="Preview"},{default:n(()=>a[4]||(a[4]=[s("Preview")]),void 0,!0),_:1},8,["value","animated"]),t(e.BProgressBar,{value:e.Duration.fromISO(e.singleLeagueData.schedule.duration).toMillis()-e.Duration.fromISO(e.singleLeagueData.schedule.endingSoon).toMillis(),variant:"success",animated:e.singleLeagueData.enabled&&e.singleLeagueData.currentOrNextSeasonSchedule.currentPhase.phase==="Active"},{default:n(()=>a[5]||(a[5]=[s("Active")]),void 0,!0),_:1},8,["value","animated"]),t(e.BProgressBar,{value:e.Duration.fromISO(e.singleLeagueData.schedule.endingSoon).toMillis(),variant:"warning",animated:e.singleLeagueData.enabled&&e.singleLeagueData.currentOrNextSeasonSchedule.currentPhase.phase==="EndingSoon"},{default:n(()=>a[6]||(a[6]=[s("Ending Soon")]),void 0,!0),_:1},8,["value","animated"])],void 0,!0),_:1},8,["max","style"]),r("div",A,[r("div",j,[a[7]||(a[7]=r("div",{class:"small font-weight-bold"},"End",-1)),r("div",z,[t(o,{date:e.singleLeagueData.currentOrNextSeasonSchedule.end},null,8,["date"])])])])])):B("",!0)}const H=M(I,[["render",X],["__file","LeagueProgressCard.vue"]]);export{H as L};
