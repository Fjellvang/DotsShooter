import{R as ge,cN as he,d as V,c as O,cO as G,cP as X,o as l,e as y,l as M,_ as z,f as h,N as u,bN as Me,a8 as Te,a as c,k as w,w as T,n as b,t as k,p as x,b7 as R,m as F,F as A,ac as ye,aU as B,B as te,bj as ae,bk as ie,bm as xe,bl as Se,x as L,C as K,h as De,r as q}from"./index-B7jvAjdE.js";import{a as _e,M as Ce}from"./MViewContainer-BTeE2xDT.js";import{a as Ie,M as ke}from"./MInputDateTime-DL6Zd7-d.js";import{M as Pe}from"./MInputSingleSelectRadio-BukGu4ZH.js";import{M as Oe}from"./MTabLayout-CxB_BuXt.js";import{M as Re}from"./MTwoColumnLayout-C4tHp69a.js";import Fe from"./MetaRawData-CedjqGjJ.js";import{a as E}from"./numberUtils-CkF0oMe2.js";import{b as J,M as Be}from"./MPlot-utpgtI9D.js";import oe from"./MetaTime-D0iYB_lr.js";import{b as Ee}from"./_baseEach-BTXG47Wn.js";import{i as Ve}from"./identity-DKeuBCMA.js";import{M as ze}from"./MModal-CihxrIfO.js";import{M as je}from"./MInputSwitch-C-Z-JJsG.js";import"./MInputHintMessage-DbuBS4Kn.js";import"./index-DZuvHjnn.js";import"./index-B_QkKjtG.js";import"./index-CDBqmjrS.js";import"./MInputSimpleSelectDropdown-DIlBEFcs.js";import"./index-qTA83-by.js";import"./MSingleColumnLayout-B4K0ZAFA.js";import"./utils-Dwlepb3M.js";import"./index-fVjXqxSF.js";function pe(i){return typeof i=="function"?i:Ve}function Q(i,a){var t=ge(i)?he:Ee;return t(i,pe(a))}const He=V({__name:"MTimeseriesBarChart",props:{data:{},interval:{default:"minute"},xTickFormat:{type:[String,Function],default:"%H:%M"},yTickFormat:{type:[String,Function],default:i=>E(Number(i))??""},xDomain:{default:void 0},yMinValue:{default:10},tooltipContent:{type:Function,default:void 0}},setup(i,{expose:a}){a();const t=i,e=O(()=>{const d=t.data.reduce((o,r)=>r.value>o.value?r:o).value;return{x:{interval:t.interval,label:null,tickFormat:t.xTickFormat,domain:t.xDomain},y:{label:null,nice:!0,domain:[0,Math.max(Math.ceil(d),t.yMinValue)],tickFormat:t.yTickFormat},marks:[J(t.data,{x:"instant",y:"value",fill:(o,r)=>r===t.data.length-1?"#ffcc80":"#2d90dc",rx:".1rem"}),G(t.data,X({x:"instant",y:"value",title:t.tooltipContent??(o=>`${o.value}
${o.instant.toUTCString()}`),stroke:"#d4d4d4",fontStyle:"red",fill:"#fafafa",fontSize:11}))]}}),f={props:t,plotOptions:e,computed:O,get abbreviateNumber(){return E},get barY(){return J},get pointerX(){return X},get tip(){return G},MPlot:Be};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}});function Ue(i,a,t,e,f,d){return t.data.length>0?(l(),y(e.MPlot,{key:0,options:e.plotOptions},null,8,["options"])):M("",!0)}const ne=z(He,[["render",Ue],["__file","MTimeseriesBarChart.vue"]]),v={Minutely:{label:"Per Minute",interval:"1 minute",xTickFormat:`%Y-%m-%d
%H:%M`,windowSizeSeconds:3600,maxWindowSizeSeconds:86400},Hourly:{label:"Hourly",interval:"1 hour",xTickFormat:`%Y-%m-%d
%H:%M`,windowSizeSeconds:3*86400,maxWindowSizeSeconds:30*86400},Daily:{label:"Daily",interval:"1 day",xTickFormat:i=>i.toISOString().split("T")[0],windowSizeSeconds:60*86400,maxWindowSizeSeconds:365*3*86400}};function re(i){return i==="custom"?"":`Last ${i}`}function se(i,a,t){if(!i)return{data:[]};const e=Object.entries(i).map(([m,S])=>({instant:new Date(m),value:S})),f=v[t],d=a.decimalPrecision??0,o=a.unit?` ${a.unit}`:"",r=m=>(a.unit&&a.unitOnFront?a.unit:"")+E(m)+(a.unit&&!a.unitOnFront?a.unit:""),s=m=>`${a.unitOnFront?o:""}${m.value?.toFixed(d)}${a.unitOnFront?"":o}
${m.instant.toUTCString()}`;return{data:e,interval:f.interval,xTickFormat:f.xTickFormat,yTickFormat:r,yMinValue:a.yMinValue!==0?a.yMinValue:void 0,tooltipContent:s}}function le(i,a){if(!i?.cohorts)return{data:[]};let t=[];if(a!==void 0){const[,o]=Object.entries(i.cohorts??{}).find(r=>Date.parse(r[0])===(Date.parse(a)??""))??["",{"":0}];Object.entries(o).some(([,r])=>r!==null)?t=Object.entries(o).map(([r,s])=>({instant:new Date(parseInt(r.slice(1),10)),value:s})):t=[]}else{const o=new Array;Q(i.cohorts,r=>{Q(r,(s,m)=>{const S=o.find(j=>j.instant===m);S?s!==null&&(S.value+=s,S.count+=1):s!==null&&o.push({instant:m,value:s,count:1})})}),t=o.map(r=>({instant:new Date(parseInt(r.instant.slice(1),10)),value:r.value/r.count}))}const e=Array.from(t.map(o=>o.instant)),f=o=>(i.dashboardInfo?.unit&&i.dashboardInfo.unitOnFront?i.dashboardInfo.unit:"")+E(o)+(i.dashboardInfo?.unit&&!i.dashboardInfo.unitOnFront?i.dashboardInfo.unit:""),d=o=>`D${+o.instant}: ${i.dashboardInfo?.unitOnFront?i.dashboardInfo.unit??"":""}${o.value?.toFixed(i.dashboardInfo?.decimalPrecision??0)}${i.dashboardInfo?.unitOnFront?"":i.dashboardInfo?.unit??""}`;return{data:t,interval:1,yMinValue:i.dashboardInfo?.yMinValue!==0?i.dashboardInfo?.yMinValue:void 0,yTickFormat:f,xTickFormat:o=>`D${+o}`,xDomain:e,tooltipContent:d}}function Ne(i){return i.values?Object.entries(i.values).some(a=>a[1]!==null):i.cohorts?Object.entries(i.cohorts).some(a=>Object.entries(a[1]).some(t=>t[1]!==null)):!1}const Le=V({__name:"MetricDetailModal",props:{data:{},activeTimeSeriesResolution:{},timePreset:{},startTime:{},endTime:{}},setup(i,{expose:a}){a();const t=i,e=h(),f=h(!1),d=h(void 0);function o(s){f.value=s,s?d.value=t.startTime.toISODate()??void 0:d.value=void 0}const r={props:t,detailsModal:e,cohortDateControlEnabled:f,cohortDate:d,updateCohortDateControlEnabled:o,get DateTime(){return u},ref:h,get MetaTime(){return oe},get MModal(){return ze},get MInputDate(){return Ie},get MInputSwitch(){return je},get MIconButton(){return Me},get MTimeseriesBarChart(){return ne},get MTextButton(){return Te},get transformTimeseriesData(){return se},get transformCohortData(){return le},get getMetricTimeRangeBadge(){return re}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Ae={key:0,class:"tw-flex text-neutral-500 tw-text-xs tw-mb-2"},We={class:"tw-m-0 tw-text-sm"},Ye={class:"tw-mt-2"},Ze={class:"tw-mb-2 tw-text-sm"},Ge={key:0,class:"tw-m-0 tw-text-sm"},Xe={key:1,class:"tw-m-0 tw-text-sm"},Ke={key:1,class:"tw-rounded-md tw-border tw-border-neutral-200 tw-bg-neutral-50 tw-p-3"},qe={key:0,class:"tw-float-right tw-text-xs"},Je={key:1},Qe={key:1,class:"tw-text-neutral-500 tw-text-xs tw-ml-0.5"},$e={key:2,class:"tw-text-neutral-500 tw-text-xs tw-m-0 tw-ml-0.5"};function et(i,a,t,e,f,d){return l(),c(A,null,[w(e.MIconButton,{onClick:a[0]||(a[0]=o=>e.detailsModal?.open())},{default:T(()=>a[2]||(a[2]=[b("svg",{class:"tw-h-6 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[b("path",{d:"M15 3.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0V5.56l-3.97 3.97a.75.75 0 1 1-1.06-1.06l3.97-3.97h-2.69a.75.75 0 0 1-.75-.75Zm-12 0A.75.75 0 0 1 3.75 3h4.5a.75.75 0 0 1 0 1.5H5.56l3.97 3.97a.75.75 0 0 1-1.06 1.06L4.5 5.56v2.69a.75.75 0 0 1-1.5 0v-4.5Zm11.47 11.78a.75.75 0 1 1 1.06-1.06l3.97 3.97v-2.69a.75.75 0 0 1 1.5 0v4.5a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h2.69l-3.97-3.97Zm-4.94-1.06a.75.75 0 0 1 0 1.06L5.56 19.5h2.69a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 1.5 0v2.69l3.97-3.97a.75.75 0 0 1 1.06 0Z"})],-1)]),void 0,!0),_:1}),w(e.MModal,{ref:"detailsModal",title:t.data?.dashboardInfo?.name??"Unknown","data-testid":"metrics-detail-card","modal-size":"large",badge:e.getMetricTimeRangeBadge(t.timePreset)!==""?e.getMetricTimeRangeBadge(t.timePreset):void 0},{default:T(()=>[e.getMetricTimeRangeBadge(t.timePreset)===""?(l(),c("div",Ae,[w(e.MetaTime,{date:t.startTime,showAs:"datetime"},null,8,["date"]),a[3]||(a[3]=b("div",{class:"tw-ml-2 tw-mr-2"},"-",-1)),w(e.MetaTime,{date:t.endTime,showAs:"datetime"},null,8,["date"])])):M("",!0),b("p",We,k(t.data?.dashboardInfo?.purposeDescription??"No description available"),1),b("div",Ye,[a[10]||(a[10]=b("p",{class:"tw-font-semibold tw-m-0 tw-text-sm"},"Details",-1)),b("p",Ze,k(t.data?.dashboardInfo?.implementationDescription??"No description available"),1),t.data.id==="errorCount"?(l(),c("p",Ge,[a[5]||(a[5]=x("See more details about errors on the ")),w(e.MTextButton,{to:"/serverErrors",permission:"api.system.view_error_logs"},{default:T(()=>a[4]||(a[4]=[x("message center page")]),void 0,!0),_:1}),a[6]||(a[6]=x("."))])):M("",!0),t.data.id==="incidentReportCount"?(l(),c("p",Xe,[a[8]||(a[8]=x("See more details about player incidents on the ")),w(e.MTextButton,{to:"/playerIncidents",permission:"api.incident_reports.view"},{default:T(()=>a[7]||(a[7]=[x("player incidents page")]),void 0,!0),_:1}),a[9]||(a[9]=x("."))])):M("",!0)]),t.data?.dashboardInfo?.hasCohorts?(l(),c("div",Ke,[t.data?.dashboardInfo?.hasCohorts?(l(),c("div",qe,[a[11]||(a[11]=x("Show Date Picker")),w(e.MInputSwitch,{class:"tw-ml-2","model-value":e.cohortDateControlEnabled,size:"extraSmall","onUpdate:modelValue":e.updateCohortDateControlEnabled},null,8,["model-value"])])):M("",!0),e.cohortDateControlEnabled?(l(),c("div",Je,[a[12]||(a[12]=b("p",{class:"tw-font-semibold tw-m-0 tw-ml-0.5"},"Cohort Date",-1)),t.data?.id==="retention"||t.data?.id==="arpDauPerDay"?(l(),y(e.MInputDate,{key:0,"model-value":e.cohortDate??t.startTime.toISODate()??"","max-iso-date":t.endTime.toISODate()??"","min-iso-date":t.startTime.toISODate()??"",size:"small","onUpdate:modelValue":a[1]||(a[1]=o=>e.cohortDate=o)},null,8,["model-value","max-iso-date","min-iso-date"])):M("",!0),t.data?.id==="retention"||t.data?.id==="arpDauPerDay"?(l(),c("p",Qe,"Showing cohort data starting from "+k(e.cohortDate??"")+".",1)):M("",!0)])):(l(),c("p",$e,"Showing averages of daily cohorts."))])):M("",!0),t.data&&t.data.values&&t.data.dashboardInfo&&!t.data.dashboardInfo.hasCohorts?(l(),y(e.MTimeseriesBarChart,R(F({key:2},e.transformTimeseriesData(t.data.values,t.data.dashboardInfo,t.activeTimeSeriesResolution))),null,16)):t.data&&t.data.cohorts&&t.data.dashboardInfo?.hasCohorts?(l(),y(e.MTimeseriesBarChart,R(F({key:3},e.transformCohortData(t.data,e.cohortDate))),null,16)):M("",!0)],void 0,!0),_:1},8,["title","badge"])],64)}const tt=z(Le,[["render",et],["__file","MetricDetailModal.vue"]]),at=V({__name:"MetricCard",props:{metricInfo:{},metric:{},timePreset:{},startTime:{},endTime:{},activeTimeseriesResolution:{}},setup(i,{expose:a}){a();const t=i,e=B(),f={props:t,permissions:e,get DateTime(){return u},get MetaTime(){return oe},get MCard(){return ye},get usePermissions(){return B},get MTimeseriesBarChart(){return ne},get transformTimeseriesData(){return se},get transformCohortData(){return le},get getMetricTimeRangeBadge(){return re},get metricHasData(){return Ne},MetricDetailModal:tt};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),it={key:0,class:"tw-text-xs+"},ot={class:"tw-mt-2"},nt={key:0,class:"tw-m-0 tw-mt-[160px] tw-text-center tw-italic tw-text-neutral-500"},rt={key:1,class:"tw-m-0 tw-mt-[160px] tw-text-center tw-italic tw-text-neutral-500"},st={key:2,class:"tw-m-0 tw-mt-[160px] tw-text-center tw-italic tw-text-neutral-500"},lt={key:3},dt={key:2,class:"tw-m-0 tw-mt-[160px] tw-text-center tw-italic tw-text-neutral-500"};function mt(i,a,t,e,f,d){return l(),y(e.MCard,{class:"tw-min-h-[558px]",title:t.metricInfo.dashboardInfo?.name??t.metricInfo?.id??"Unknown",badge:e.getMetricTimeRangeBadge(t.timePreset)!==""?e.getMetricTimeRangeBadge(t.timePreset):void 0,"data-testid":"metrics-card"},te({subtitle:T(()=>[e.getMetricTimeRangeBadge(t.timePreset)===""?(l(),c("div",it,[w(e.MetaTime,{date:t.startTime,showAs:"datetime"},null,8,["date"]),a[0]||(a[0]=x(" - ")),w(e.MetaTime,{date:t.endTime,showAs:"datetime"},null,8,["date"])])):M("",!0),b("p",ot,k(t.metricInfo?.dashboardInfo?.purposeDescription??"No description available"),1)]),default:T(()=>[e.permissions.doesHavePermission("api.metrics.view")?M("",!0):(l(),c("div",nt,"You do not have the permission to view this metric.")),t.metricInfo.dashboardInfo?.dailyOnly&&t.activeTimeseriesResolution!=="Daily"?(l(),c("p",rt,"This metric is only available on a daily resolution.")):t.metric?(l(),c("div",lt,[t.metric&&!t.metric.dashboardInfo?.hasCohorts&&t.metric.dashboardInfo&&e.metricHasData(t.metric)?(l(),y(e.MTimeseriesBarChart,R(F({key:0},e.transformTimeseriesData(t.metric.values,t.metric.dashboardInfo,t.activeTimeseriesResolution))),null,16)):t.metric&&t.metric?.dashboardInfo?.hasCohorts&&e.metricHasData(t.metric)?(l(),y(e.MTimeseriesBarChart,R(F({key:1},e.transformCohortData(t.metric,void 0))),null,16)):(l(),c("p",dt,"No data available for this metric."))])):(l(),c("p",st,"Metric data is loading..."))],void 0,!0),_:2},[!(t.metricInfo.dashboardInfo?.dailyOnly&&t.activeTimeseriesResolution!=="Daily")&&t.metric?{name:"header-right",fn:T(()=>[w(e.MetricDetailModal,{data:t.metric,"active-time-series-resolution":t.activeTimeseriesResolution,"time-preset":t.timePreset,"start-time":t.startTime,"end-time":t.endTime},null,8,["data","active-time-series-resolution","time-preset","start-time","end-time"])]),key:"0"}:void 0]),1032,["title","badge"])}const ut=z(at,[["render",mt],["__file","MetricCard.vue"]]);function $(i,a,t,e){return{permission:"api.metrics.view",pollingPolicy:ae(1e4),fetcherPolicy:ie(`/metrics/category/${i}?resolution=${a}&startTime=${t?.toUTC().toString()}&endTime=${e?.toUTC().toString()}`),cacheRetentionPolicy:xe(6e4)}}function ee(){return{permission:"api.metrics.view",pollingPolicy:ae(6e4),fetcherPolicy:ie("/metrics"),cacheRetentionPolicy:Se()}}const ct=V({__name:"MetricsView",setup(i,{expose:a}){a();const t=B(),{data:e,error:f}=L(()=>ee()),d=h("Daily"),o=h(),r=h(u.fromSeconds(0)),s=h(u.fromSeconds(u.now().toSeconds()-v[d.value].windowSizeSeconds)),m=h(u.now());function S(n){_.value&&(o.value=_.value[n].label)}function j(n){return N?.value?.metrics?.find(g=>g.id===n)}const _=h();K(e,n=>{W(n),n&&(r.value=u.fromISO(n.epochTime),s.value=u.max(r.value,s.value),m.value=u.max(r.value,m.value))},{immediate:!0});function W(n){if(n?.categories){const g=n.categories.toSorted((D,be)=>D.orderIndex-be.orderIndex).map(D=>D.name);_.value=g.map(D=>({label:D})),o.value||(o.value=_.value[0].label)}}function de(n){const g=N?.value?.metrics?.find(D=>D.id===n);if(g)return g;throw new Error("Metric not found")}const p=h("60d"),me=[{label:"Last 4 hours",value:"4h"},{label:"Last 3 days",value:"3d"},{label:"Last 60 days",value:"60d"},{label:"Custom",value:"custom"}];let H=Object.keys(v).map(n=>({label:v[n].label,value:n,disabled:U(n)}));function C(){H=Object.keys(v).map(n=>({label:v[n].label,value:n,disabled:U(n)}))}function U(n){return p.value!=="custom"?!0:m.value.toSeconds()-s.value.toSeconds()>v[n].maxWindowSizeSeconds}const I=h();function ue(n){n&&(m.value.toSeconds()-n.toSeconds()>v.Daily.maxWindowSizeSeconds?(s.value=u.fromSeconds(m.value.toSeconds()-v.Daily.maxWindowSizeSeconds),I.value=`Time range is too large for ${v.Daily.label} resolution. Start time has been automatically adjusted.`):(s.value=n,P()),s.value=u.max(s.value,r.value)),C()}function ce(n){n&&(n?.toSeconds()-s.value.toSeconds()>v.Daily.maxWindowSizeSeconds?(m.value=u.fromSeconds(s.value.toSeconds()+v.Daily.maxWindowSizeSeconds),I.value=`Time range is too large for ${v.Daily.label} resolution. End time has been automatically adjusted.`):(m.value=n,P()),m.value=u.max(m.value,r.value)),C()}function fe(n){d.value=n,P(),C()}function P(){m.value.toSeconds()-s.value.toSeconds()>v[d.value].maxWindowSizeSeconds?(I.value=`Time range is too large for ${v[d.value].label} resolution. Resolution has been automatically adjusted.`,d.value==="Minutely"&&m.value.toSeconds()-s.value.toSeconds()<v.Hourly.maxWindowSizeSeconds?d.value="Hourly":d.value="Daily"):I.value=void 0}function ve(n){const g=u.now();switch(n){case"4h":s.value=u.max(u.fromSeconds(g.toSeconds()-4*3600),r.value),m.value=g,d.value="Minutely";break;case"3d":s.value=u.max(u.fromSeconds(g.toSeconds()-3*86400),r.value),m.value=g,d.value="Hourly";break;case"60d":s.value=u.max(u.fromSeconds(g.toSeconds()-60*86400),r.value),m.value=g,d.value="Daily";break}Y.value=null,p.value=n,C()}const{data:N,error:Y}=L(()=>{if(o.value)return $(o.value,d.value,s.value,m.value)}),we=O(()=>e?.value?.metrics?e?.value?.metrics.slice().filter(n=>n.dashboardInfo?.category===o.value).sort((n,g)=>(g.dashboardInfo?.orderIndex??0)-(n.dashboardInfo?.orderIndex??0)):[]),Z={permissions:t,metricsInfoData:e,metricsInfoError:f,activeTimeseriesResolution:d,activeCategory:o,minDateTime:r,startTime:s,endTime:m,onTabChanged:S,getMetricData:j,tabOptions:_,updateTabOptions:W,openDetailsModal:de,timePreset:p,timePresetsOptions:me,get timeseriesResolutionOptions(){return H},set timeseriesResolutionOptions(n){H=n},updateTimeseriesResolutionOptions:C,getResolutionOptionDisabled:U,invalidResolutionForTimeRangeError:I,setStartTime:ue,setEndTime:ce,setResolution:fe,checkForInvalidResolution:P,setTimePreset:ve,metricsData:N,metricsError:Y,orderedAndFilteredMetrics:we,get DateTime(){return u},computed:O,onMounted:De,ref:h,watch:K,get MetaRawData(){return Fe},get MInputSingleSelectRadio(){return Pe},get MViewContainer(){return _e},get MPageOverviewCard(){return Ce},get MTwoColumnLayout(){return Re},get MTabLayout(){return Oe},get MInputDateTime(){return ke},get usePermissions(){return B},get useSubscription(){return L},MetricCard:ut,get resolutionConfigs(){return v},get getCategoryMetricsSubscriptionOptions(){return $},get getAllMetricsInfoSubscriptionOptions(){return ee}};return Object.defineProperty(Z,"__isScriptSetup",{enumerable:!1,value:!0}),Z}}),ft={class:"tw-rounded-md tw-border tw-border-neutral-200 tw-bg-neutral-50 tw-p-3"},vt={class:"tw-flex tw-justify-between tw-mb-2"},wt={class:"tw-flex tw-justify-between"},bt={class:"tw-flex tw-justify-between tw-mt-2"},gt={key:0,class:"tw-text-sm tw-font-bold tw-mt-1"},ht={key:1,class:"tw-text-sm tw-font-bold tw-text-neutral-400 tw-mt-1"},Mt={key:0,class:"tw-text-sm tw-font-semibold tw-text-red-500 tw-mt-1"},Tt={key:1,class:"tw-m-0 tw-text-center tw-italic tw-text-neutral-500"};function yt(i,a,t,e,f,d){return l(),y(e.MViewContainer,{"full-width":"",permission:"api.metrics.view",error:e.metricsInfoError,"is-loading":!e.metricsInfoData},{overview:T(()=>[w(e.MPageOverviewCard,{title:"Game Server Metrics"},{default:T(()=>[a[3]||(a[3]=b("p",{class:"tw-mb-1"},"Metrics track your game's performance over time.",-1)),a[4]||(a[4]=b("div",{class:"tw-text-sm tw-text-neutral-500 tw-mb-4"},"Expand the individual metrics to see details on how they are calculated, and use the time range and resolution controls to view the metrics for different time periods. Expand cohort metrics to view additional date controls.",-1)),b("div",ft,[b("div",vt,[a[2]||(a[2]=b("div",{class:"tw-block tw-text-sm tw-font-bold tw-mt-1"},"Time Range",-1)),w(e.MInputSingleSelectRadio,{"model-value":e.timePreset,options:e.timePresetsOptions,size:"small","onUpdate:modelValue":a[0]||(a[0]=o=>e.setTimePreset(o))},null,8,["model-value"])]),b("div",wt,[w(e.MInputDateTime,{disabled:e.timePreset!=="custom","model-value":e.startTime,label:"Start Time (UTC)","max-date-time":e.endTime,"min-date-time":e.minDateTime,"onUpdate:modelValue":e.setStartTime},null,8,["disabled","model-value","max-date-time","min-date-time"]),w(e.MInputDateTime,{disabled:e.timePreset!=="custom","model-value":e.endTime,label:"End Time (UTC)","max-date-time":e.DateTime.now(),"min-date-time":e.minDateTime,"onUpdate:modelValue":e.setEndTime},null,8,["disabled","model-value","max-date-time","min-date-time"])]),b("div",bt,[e.timePreset==="custom"?(l(),c("div",gt,"Resolution")):(l(),c("div",ht,"Resolution")),w(e.MInputSingleSelectRadio,{"disabled-tooltip":e.timePreset!=="custom"?"Resolution is set by time range":"","model-value":e.activeTimeseriesResolution,options:e.timeseriesResolutionOptions,size:"small","onUpdate:modelValue":e.setResolution},null,8,["disabled-tooltip","model-value","options"])]),e.invalidResolutionForTimeRangeError?(l(),c("p",Mt,k(e.invalidResolutionForTimeRangeError),1)):M("",!0)])],void 0,!0),_:1})]),default:T(()=>[e.tabOptions?(l(),y(e.MTabLayout,{key:0,tabs:e.tabOptions,onOnTabChanged:a[1]||(a[1]=o=>e.onTabChanged(o))},te({_:2},[q(e.tabOptions,(o,r)=>({name:`tab-${r}`,fn:T(()=>[w(e.MTwoColumnLayout,null,{default:T(()=>[(l(!0),c(A,null,q(e.orderedAndFilteredMetrics,s=>(l(),c(A,{key:s?.id},[s.dashboardInfo?.isHidden?M("",!0):(l(),y(e.MetricCard,{key:0,"metric-info":s,metric:e.getMetricData(s.id),"active-timeseries-resolution":e.activeTimeseriesResolution,"time-preset":e.timePreset,"start-time":e.startTime,"end-time":e.endTime},null,8,["metric-info","metric","active-timeseries-resolution","time-preset","start-time","end-time"]))],64))),128))],void 0,!0),_:1})])}))]),1032,["tabs"])):(l(),c("p",Tt,"Metrics categories are loading...")),w(e.MetaRawData,{"kv-pair":e.metricsData,name:"metricsData"},null,8,["kv-pair"])]),_:1},8,["error","is-loading"])}const Yt=z(ct,[["render",yt],["__file","MetricsView.vue"]]);export{Yt as default};
