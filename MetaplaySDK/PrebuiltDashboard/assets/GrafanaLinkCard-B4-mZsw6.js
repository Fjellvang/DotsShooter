import{d as w,a6 as m,c as s,O as k,b as i,o as l,e as h,w as t,k as r,$ as x,a as g,n as f,p as _,_ as L}from"./index-B7jvAjdE.js";const I=w({__name:"GrafanaLinkCard",setup(p,{expose:n}){n();const a=m(),e=s(()=>!!a.environmentInfo.grafanaUri),c=s(()=>{if(e.value&&a)return a.environmentInfo.grafanaUri+"/d/rCI05Y4Mz/metaplay-server"}),u=s(()=>{if(e.value&&a){const d=a.environmentInfo.kubernetesNamespace?`,namespace=\\"${a.environmentInfo.kubernetesNamespace}\\"`:"";return`${a.environmentInfo.grafanaUri}/explore?orgId=1&left={"datasource": "Loki", "queries":[{"expr":"{app=\\"metaplay-server\\"${d}}"}],"range":{"from":"now-1h","to":"now"}}`}else return}),o={staticInfos:a,grafanaEnabled:e,grafanaMetricsLink:c,grafanaLogsLink:u,computed:s,get useStaticInfos(){return m},get MButton(){return k}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),y={key:0},C={class:"tw-space-x-1.5 tw-text-right"},M={key:1,class:"mt-5 tw-text-center"};function B(p,n,a,e,c,u){const o=i("fa-icon"),d=i("b-card"),b=i("b-col"),v=i("b-row");return l(),h(v,{class:"justify-content-center"},{default:t(()=>[r(b,{lg:"9",xl:"8"},{default:t(()=>[r(d,{class:x(["shadow-sm tw-mb-4",e.grafanaEnabled?"":"bg-light"]),title:"Cluster Metrics & Logs",style:{"min-height":"11rem"},"data-testid":"grafana-card"},{default:t(()=>[e.grafanaEnabled?(l(),g("div",y,[n[2]||(n[2]=f("p",null,'Grafana is an industry standard tool for diving into the "engine room" level system health metrics and server logs.',-1)),f("div",C,[r(e.MButton,{permission:"dashboard.grafana.view",to:e.grafanaMetricsLink,"disabled-tooltip":e.grafanaEnabled?void 0:"Grafana has not been configured for this environment."},{icon:t(()=>[r(o,{class:"tw-mr-1 tw-h-3.5 tw-w-4",icon:"external-link-alt"})]),default:t(()=>[n[0]||(n[0]=_("View Metrics"))],void 0,!0),_:1},8,["to","disabled-tooltip"]),r(e.MButton,{permission:"dashboard.grafana.view",to:e.grafanaLogsLink,"disabled-tooltip":e.grafanaEnabled?void 0:"Grafana has not been configured for this environment."},{icon:t(()=>[r(o,{class:"tw-mr-1 tw-h-3.5 tw-w-4",icon:"external-link-alt"})]),default:t(()=>[n[1]||(n[1]=_("View Logs"))],void 0,!0),_:1},8,["to","disabled-tooltip"])])])):(l(),g("div",M,n[3]||(n[3]=[f("div",{class:"text-muted"},"Grafana has not been configured for this environment.",-1)])))],void 0,!0),_:1},8,["class"])],void 0,!0),_:1})],void 0,!0),_:1})}const E=L(I,[["render",B],["__file","GrafanaLinkCard.vue"]]);export{E as default};
