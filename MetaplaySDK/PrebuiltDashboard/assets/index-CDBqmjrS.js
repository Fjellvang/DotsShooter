import{ar as T,as as S,at as V,au as C,aN as p,c3 as k,ay as s,aP as F,aF as x,aR as A,c4 as P,aL as _,aS as h,aT as D,c5 as w}from"./index-B7jvAjdE.js";import{t as O,d as L}from"./index-B_QkKjtG.js";var I,f=new Map,$=e=>e.getBoundingClientRect();function H(e,i){const{scope:t="rect",getRect:a=$,onChange:d}=i,l=q({scope:t,getRect:a}),c=f.get(e);return c?(c.callbacks.push(d),d(a(e))):(f.set(e,{rect:{},callbacks:[d]}),f.size===1&&(I=requestAnimationFrame(l))),function(){const n=f.get(e);if(!n)return;const r=n.callbacks.indexOf(d);r>-1&&n.callbacks.splice(r,1),n.callbacks.length===0&&(f.delete(e),f.size===0&&cancelAnimationFrame(I))}}function q(e){const{scope:i,getRect:t}=e,a=B(i);return function d(){const l=[];f.forEach((c,v)=>{const n=t(v);a(c.rect,n)||(c.rect=n,l.push(c))}),l.forEach(c=>{c.callbacks.forEach(v=>v(c.rect))}),I=requestAnimationFrame(d)}}var E=(e,i)=>e.width===i.width&&e.height===i.height,b=(e,i)=>e.top===i.top&&e.left===i.left,U=(e,i)=>E(e,i)&&b(e,i);function B(e){return e==="size"?E:e==="position"?b:U}var m=T("radio-group").parts("root","label","item","itemText","itemControl","indicator"),g=m.build(),o=S({getRootId:e=>e.ids?.root??`radio-group:${e.id}`,getLabelId:e=>e.ids?.label??`radio-group:${e.id}:label`,getItemId:(e,i)=>e.ids?.item?.(i)??`radio-group:${e.id}:radio:${i}`,getItemHiddenInputId:(e,i)=>e.ids?.itemHiddenInput?.(i)??`radio-group:${e.id}:radio:input:${i}`,getItemControlId:(e,i)=>e.ids?.itemControl?.(i)??`radio-group:${e.id}:radio:control:${i}`,getItemLabelId:(e,i)=>e.ids?.itemLabel?.(i)??`radio-group:${e.id}:radio:label:${i}`,getIndicatorId:e=>e.ids?.indicator??`radio-group:${e.id}:indicator`,getRootEl:e=>o.getById(e,o.getRootId(e)),getItemHiddenInputEl:(e,i)=>o.getById(e,o.getItemHiddenInputId(e,i)),getIndicatorEl:e=>o.getById(e,o.getIndicatorId(e)),getFirstEnabledInputEl:e=>o.getRootEl(e)?.querySelector("input:not(:disabled)"),getFirstEnabledAndCheckedInputEl:e=>o.getRootEl(e)?.querySelector("input:not(:disabled):checked"),getInputEls:e=>{const t=`input[type=radio][data-ownedby='${CSS.escape(o.getRootId(e))}']:not([disabled])`;return k(o.getRootEl(e),t)},getActiveRadioEl:e=>{if(e.value)return o.getById(e,o.getItemId(e,e.value))},getOffsetRect:e=>({left:e?.offsetLeft??0,top:e?.offsetTop??0,width:e?.offsetWidth??0,height:e?.offsetHeight??0}),getRectById:(e,i)=>{const t=o.getById(e,o.getItemId(e,i));if(t)return o.resolveRect(o.getOffsetRect(t))},resolveRect:e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`})});function M(e,i,t){const a=e.context.isDisabled,d=e.context.readOnly;function l(n){return{invalid:!!n.invalid,disabled:!!n.disabled||a,checked:e.context.value===n.value,focused:e.context.focusedValue===n.value,hovered:e.context.hoveredValue===n.value,active:e.context.activeValue===n.value}}function c(n){const r=l(n);return{"data-focus":s(r.focused),"data-focus-visible":s(r.focused&&e.context.focusVisible),"data-disabled":s(r.disabled),"data-readonly":s(d),"data-state":r.checked?"checked":"unchecked","data-hover":s(r.hovered),"data-invalid":s(r.invalid),"data-orientation":e.context.orientation,"data-ssr":s(e.context.ssr)}}const v=()=>{const n=o.getFirstEnabledAndCheckedInputEl(e.context);if(n){n.focus();return}o.getFirstEnabledInputEl(e.context)?.focus()};return{focus:v,value:e.context.value,setValue(n){i({type:"SET_VALUE",value:n,isTrusted:!1})},clearValue(){i({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return t.element({...g.root.attrs,role:"radiogroup",id:o.getRootId(e.context),"aria-labelledby":o.getLabelId(e.context),"data-orientation":e.context.orientation,"data-disabled":s(a),"aria-orientation":e.context.orientation,dir:e.context.dir,style:{position:"relative"}})},getLabelProps(){return t.element({...g.label.attrs,dir:e.context.dir,"data-orientation":e.context.orientation,"data-disabled":s(a),id:o.getLabelId(e.context),onClick:v})},getItemState:l,getItemProps(n){const r=l(n);return t.label({...g.item.attrs,dir:e.context.dir,id:o.getItemId(e.context,n.value),htmlFor:o.getItemHiddenInputId(e.context,n.value),...c(n),onPointerMove(){r.disabled||r.hovered||i({type:"SET_HOVERED",value:n.value,hovered:!0})},onPointerLeave(){r.disabled||i({type:"SET_HOVERED",value:null})},onPointerDown(u){r.disabled||(r.focused&&u.pointerType==="mouse"&&u.preventDefault(),i({type:"SET_ACTIVE",value:n.value,active:!0}))},onPointerUp(){r.disabled||i({type:"SET_ACTIVE",value:null})}})},getItemTextProps(n){return t.element({...g.itemText.attrs,dir:e.context.dir,id:o.getItemLabelId(e.context,n.value),...c(n)})},getItemControlProps(n){const r=l(n);return t.element({...g.itemControl.attrs,dir:e.context.dir,id:o.getItemControlId(e.context,n.value),"data-active":s(r.active),"aria-hidden":!0,...c(n)})},getItemHiddenInputProps(n){const r=l(n);return t.input({"data-ownedby":o.getRootId(e.context),id:o.getItemHiddenInputId(e.context,n.value),type:"radio",name:e.context.name||e.context.id,form:e.context.form,value:n.value,onClick(u){if(d){u.preventDefault();return}u.currentTarget.checked&&i({type:"SET_VALUE",value:n.value,isTrusted:!0})},onBlur(){i({type:"SET_FOCUSED",value:null,focused:!1,focusVisible:!1})},onFocus(){const u=D();i({type:"SET_FOCUSED",value:n.value,focused:!0,focusVisible:u})},onKeyDown(u){u.defaultPrevented||u.key===" "&&i({type:"SET_ACTIVE",value:n.value,active:!0})},onKeyUp(u){u.defaultPrevented||u.key===" "&&i({type:"SET_ACTIVE",value:null})},disabled:r.disabled,defaultChecked:r.checked,style:F})},getIndicatorProps(){return t.element({id:o.getIndicatorId(e.context),...g.indicator.attrs,dir:e.context.dir,hidden:e.context.value==null,"data-disabled":s(a),"data-orientation":e.context.orientation,style:{"--transition-property":"left, top, width, height","--left":e.context.indicatorRect?.left,"--top":e.context.indicatorRect?.top,"--width":e.context.indicatorRect?.width,"--height":e.context.indicatorRect?.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:e.context.canIndicatorTransition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[e.context.orientation==="horizontal"?"left":"top"]:e.context.orientation==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:z}=x;function N(e){const i=V(e);return C({id:"radio",initial:"idle",context:{value:null,activeValue:null,focusedValue:null,hoveredValue:null,disabled:!1,orientation:"vertical",...i,indicatorRect:{},canIndicatorTransition:!1,fieldsetDisabled:!1,focusVisible:!1,ssr:!0},computed:{isDisabled:t=>!!t.disabled||t.fieldsetDisabled},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],activities:["trackFormControlState","trackFocusVisible"],watch:{value:["setIndicatorTransition","syncIndicatorRect","syncInputElements"]},on:{SET_VALUE:[{guard:z("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:"setHovered"},SET_ACTIVE:{actions:"setActive"},SET_FOCUSED:{actions:"setFocused"}},states:{idle:{}}},{guards:{isTrusted:(t,a)=>!!a.isTrusted},activities:{trackFormControlState(t,a,{send:d,initialContext:l}){return O(o.getRootEl(t),{onFieldsetDisabledChange(c){t.fieldsetDisabled=c},onFormReset(){d({type:"SET_VALUE",value:l.value})}})},trackFocusVisible(t){return A({root:o.getRootNode(t)})}},actions:{setValue(t,a){K.value(t,a.value)},setHovered(t,a){t.hoveredValue=a.value},setActive(t,a){t.activeValue=a.value},setFocused(t,a){t.focusedValue=a.value,t.focusVisible=a.focusVisible},syncInputElements(t){o.getInputEls(t).forEach(d=>{d.checked=d.value===t.value})},setIndicatorTransition(t){t.canIndicatorTransition=P(t.value)},cleanupObserver(t){t.indicatorCleanup?.()},syncSsr(t){t.ssr=!1},syncIndicatorRect(t){if(t.indicatorCleanup?.(),!o.getIndicatorEl(t))return;const a=t.value,d=o.getActiveRadioEl(t);if(a==null||!d){t.indicatorRect={};return}t.indicatorCleanup=H(d,{getRect(l){return o.getOffsetRect(l)},onChange(l){t.indicatorRect=o.resolveRect(l),w(()=>{t.canIndicatorTransition=!1})}})},dispatchChangeEvent(t){o.getInputEls(t).forEach(d=>{const l=d.value===t.value;l!==d.checked&&L(d,{checked:l})})}}})}var j={change:e=>{e.value!=null&&e.onValueChange?.({value:e.value})}},K={value:(e,i)=>{_(e.value,i)||(e.value=i,j.change(e))}},y=p()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]),W=h(y),R=p()(["value","disabled","invalid"]),G=h(R);const X=Object.freeze(Object.defineProperty({__proto__:null,anatomy:m,connect:M,itemProps:R,machine:N,props:y,splitItemProps:G,splitProps:W},Symbol.toStringTag,{value:"Module"}));export{M as c,N as m,X as z};
