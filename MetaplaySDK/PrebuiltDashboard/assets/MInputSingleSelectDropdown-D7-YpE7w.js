import{ar as he,aE as ne,as as pe,at as me,au as Ie,dI as q,aN as U,bp as ve,ay as c,bq as j,az as Ee,aP as fe,dJ as Te,dK as be,aO as Oe,dL as Ce,aF as ye,bv as Re,bx as Y,aK as M,aG as we,aL as x,bB as Se,aS as W,dM as Pe,bC as Le,d as Ge,an as J,c as R,f as k,bE as Q,ao as X,ap as Z,ae as $,bF as z,bG as ee,P as Ve,aq as te,o as w,a as G,m as V,t as N,l as Fe,n as C,a2 as le,$ as ke,e as Ne,w as ie,F as Ae,r as De,be as He,k as _e,p as Me,_ as Be}from"./index-B7jvAjdE.js";import{L as oe}from"./index-qTA83-by.js";import{t as Ue}from"./index-B_QkKjtG.js";import{M as We}from"./MInputHintMessage-DbuBS4Kn.js";var ae=he("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),m=ae.build(),K=t=>ne(new oe(t));K.empty=()=>ne(new oe({items:[]}));var o=pe({getRootId:t=>t.ids?.root??`select:${t.id}`,getContentId:t=>t.ids?.content??`select:${t.id}:content`,getTriggerId:t=>t.ids?.trigger??`select:${t.id}:trigger`,getClearTriggerId:t=>t.ids?.clearTrigger??`select:${t.id}:clear-trigger`,getLabelId:t=>t.ids?.label??`select:${t.id}:label`,getControlId:t=>t.ids?.control??`select:${t.id}:control`,getItemId:(t,i)=>t.ids?.item?.(i)??`select:${t.id}:option:${i}`,getHiddenSelectId:t=>t.ids?.hiddenSelect??`select:${t.id}:select`,getPositionerId:t=>t.ids?.positioner??`select:${t.id}:positioner`,getItemGroupId:(t,i)=>t.ids?.itemGroup?.(i)??`select:${t.id}:optgroup:${i}`,getItemGroupLabelId:(t,i)=>t.ids?.itemGroupLabel?.(i)??`select:${t.id}:optgroup-label:${i}`,getHiddenSelectEl:t=>o.getById(t,o.getHiddenSelectId(t)),getContentEl:t=>o.getById(t,o.getContentId(t)),getControlEl:t=>o.getById(t,o.getControlId(t)),getTriggerEl:t=>o.getById(t,o.getTriggerId(t)),getClearTriggerEl:t=>o.getById(t,o.getClearTriggerId(t)),getPositionerEl:t=>o.getById(t,o.getPositionerId(t)),getHighlightedOptionEl(t){return t.highlightedValue?o.getById(t,o.getItemId(t,t.highlightedValue)):null}});function re(t,i,e){const l=t.context.isDisabled,a=t.context.invalid,s=t.context.readOnly,u=t.context.isInteractive,h=t.context.composite,I=t.hasTag("open"),b=t.matches("focused"),v=t.context.highlightedValue,E=t.context.highlightedItem,D=t.context.selectedItems,F=t.context.isTypingAhead,O=t.context.collection,P=v?o.getItemId(t.context,v):void 0;function y(n){const r=O.getItemDisabled(n.item),p=O.getItemValue(n.item);return{value:p,disabled:!!(l||r),highlighted:v===p,selected:t.context.value.includes(p)}}const H=ve({...t.context.positioning,placement:t.context.currentPlacement});return{open:I,focused:b,empty:t.context.value.length===0,highlightedItem:E,highlightedValue:v,selectedItems:D,hasSelectedItems:t.context.hasSelectedItems,value:t.context.value,valueAsString:t.context.valueAsString,collection:O,multiple:!!t.context.multiple,disabled:!!l,setCollection(n){i({type:"COLLECTION.SET",value:n})},reposition(n={}){i({type:"POSITIONING.SET",options:n})},focus(){o.getTriggerEl(t.context)?.focus({preventScroll:!0})},setOpen(n){n!==I&&i(n?"OPEN":"CLOSE")},selectValue(n){i({type:"ITEM.SELECT",value:n})},setValue(n){i({type:"VALUE.SET",value:n})},selectAll(){i({type:"VALUE.SET",value:O.getValues()})},highlightValue(n){i({type:"HIGHLIGHTED_VALUE.SET",value:n})},clearValue(n){i(n?{type:"ITEM.CLEAR",value:n}:{type:"VALUE.CLEAR"})},getItemState:y,getRootProps(){return e.element({...m.root.attrs,dir:t.context.dir,id:o.getRootId(t.context),"data-invalid":c(a),"data-readonly":c(s)})},getLabelProps(){return e.label({dir:t.context.dir,id:o.getLabelId(t.context),...m.label.attrs,"data-disabled":c(l),"data-invalid":c(a),"data-readonly":c(s),htmlFor:o.getHiddenSelectId(t.context),onClick(n){n.defaultPrevented||l||o.getTriggerEl(t.context)?.focus({preventScroll:!0})}})},getControlProps(){return e.element({...m.control.attrs,dir:t.context.dir,id:o.getControlId(t.context),"data-state":I?"open":"closed","data-focus":c(b),"data-disabled":c(l),"data-invalid":c(a)})},getValueTextProps(){return e.element({...m.valueText.attrs,dir:t.context.dir,"data-disabled":c(l),"data-invalid":c(a),"data-focus":c(b)})},getTriggerProps(){return e.button({id:o.getTriggerId(t.context),disabled:l,dir:t.context.dir,type:"button",role:"combobox","aria-controls":o.getContentId(t.context),"aria-expanded":I,"aria-haspopup":"listbox","data-state":I?"open":"closed","aria-invalid":a,"aria-labelledby":o.getLabelId(t.context),...m.trigger.attrs,"data-disabled":c(l),"data-invalid":c(a),"data-readonly":c(s),"data-placement":t.context.currentPlacement,"data-placeholder-shown":c(!t.context.hasSelectedItems),onClick(n){u&&(n.defaultPrevented||i({type:"TRIGGER.CLICK"}))},onFocus(){i("TRIGGER.FOCUS")},onBlur(){i("TRIGGER.BLUR")},onKeyDown(n){if(n.defaultPrevented||!u)return;const p={ArrowUp(){i({type:"TRIGGER.ARROW_UP"})},ArrowDown(f){i({type:f.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){i({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){i({type:"TRIGGER.ARROW_RIGHT"})},Home(){i({type:"TRIGGER.HOME"})},End(){i({type:"TRIGGER.END"})},Enter(){i({type:"TRIGGER.ENTER"})},Space(f){i(F?{type:"TRIGGER.TYPEAHEAD",key:f.key}:{type:"TRIGGER.ENTER"})}}[j(n,t.context)];if(p){p(n),n.preventDefault();return}q.isValidEvent(n)&&(i({type:"TRIGGER.TYPEAHEAD",key:n.key}),n.preventDefault())}})},getIndicatorProps(){return e.element({...m.indicator.attrs,dir:t.context.dir,"aria-hidden":!0,"data-state":I?"open":"closed","data-disabled":c(l),"data-invalid":c(a),"data-readonly":c(s)})},getItemProps(n){const r=y(n);return e.element({id:o.getItemId(t.context,r.value),role:"option",...m.item.attrs,dir:t.context.dir,"data-value":r.value,"aria-selected":r.selected,"data-state":r.selected?"checked":"unchecked","data-highlighted":c(r.highlighted),"data-disabled":c(r.disabled),"aria-disabled":Ee(r.disabled),onPointerMove(p){r.disabled||p.pointerType!=="mouse"||r.value!==t.context.highlightedValue&&i({type:"ITEM.POINTER_MOVE",value:r.value})},onClick(p){p.defaultPrevented||r.disabled||i({type:"ITEM.CLICK",src:"pointerup",value:r.value})},onPointerLeave(p){r.disabled||n.persistFocus||p.pointerType!=="mouse"||!t.previousEvent.type.includes("POINTER")||i({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(n){const r=y(n);return e.element({...m.itemText.attrs,"data-state":r.selected?"checked":"unchecked","data-disabled":c(r.disabled),"data-highlighted":c(r.highlighted)})},getItemIndicatorProps(n){const r=y(n);return e.element({"aria-hidden":!0,...m.itemIndicator.attrs,"data-state":r.selected?"checked":"unchecked",hidden:!r.selected})},getItemGroupLabelProps(n){const{htmlFor:r}=n;return e.element({...m.itemGroupLabel.attrs,id:o.getItemGroupLabelId(t.context,r),role:"group",dir:t.context.dir})},getItemGroupProps(n){const{id:r}=n;return e.element({...m.itemGroup.attrs,"data-disabled":c(l),id:o.getItemGroupId(t.context,r),"aria-labelledby":o.getItemGroupLabelId(t.context,r),dir:t.context.dir})},getClearTriggerProps(){return e.button({...m.clearTrigger.attrs,id:o.getClearTriggerId(t.context),type:"button","aria-label":"Clear value","data-invalid":c(a),disabled:l,hidden:!t.context.hasSelectedItems,dir:t.context.dir,onClick(n){n.defaultPrevented||i("CLEAR.CLICK")}})},getHiddenSelectProps(){return e.select({name:t.context.name,form:t.context.form,disabled:l,multiple:t.context.multiple,required:t.context.required,"aria-hidden":!0,id:o.getHiddenSelectId(t.context),defaultValue:t.context.multiple?t.context.value:t.context.value[0],style:fe,tabIndex:-1,onFocus(){o.getTriggerEl(t.context)?.focus({preventScroll:!0})},"aria-labelledby":o.getLabelId(t.context)})},getPositionerProps(){return e.element({...m.positioner.attrs,dir:t.context.dir,id:o.getPositionerId(t.context),style:H.floating})},getContentProps(){return e.element({hidden:!I,dir:t.context.dir,id:o.getContentId(t.context),role:h?"listbox":"dialog",...m.content.attrs,"data-state":I?"open":"closed","data-placement":t.context.currentPlacement,"data-activedescendant":P,"aria-activedescendant":h?P:void 0,"aria-multiselectable":t.context.multiple&&h?!0:void 0,"aria-labelledby":o.getLabelId(t.context),tabIndex:0,onKeyDown(n){if(!u||!Te(n))return;if(n.key==="Tab"&&!be(n)){n.preventDefault();return}const r={ArrowUp(){i({type:"CONTENT.ARROW_UP"})},ArrowDown(){i({type:"CONTENT.ARROW_DOWN"})},Home(){i({type:"CONTENT.HOME"})},End(){i({type:"CONTENT.END"})},Enter(){i({type:"ITEM.CLICK",src:"keydown.enter"})},Space(d){F?i({type:"CONTENT.TYPEAHEAD",key:d.key}):r.Enter?.(d)}},p=r[j(n)];if(p){p(n),n.preventDefault();return}const f=Oe(n);Ce(f)||q.isValidEvent(n)&&(i({type:"CONTENT.TYPEAHEAD",key:n.key}),n.preventDefault())}})},getListProps(){return e.element({...m.list.attrs,tabIndex:0,role:h?void 0:"listbox","aria-labelledby":o.getTriggerId(t.context),"aria-activedescendant":h?void 0:P,"aria-multiselectable":!h&&t.context.multiple?!0:void 0})}}}var{and:A,not:S,or:Ke}=ye;function se(t){const i=me(t);return Ie({id:"select",context:{value:[],highlightedValue:null,loopFocus:!1,closeOnSelect:!i.multiple,disabled:!1,readOnly:!1,composite:!0,...i,highlightedItem:null,selectedItems:[],valueAsString:"",collection:i.collection??K.empty(),typeahead:q.defaultOptions,fieldsetDisabled:!1,positioning:{placement:"bottom-start",gutter:8,...i.positioning}},computed:{hasSelectedItems:e=>e.value.length>0,isTypingAhead:e=>e.typeahead.keysSoFar!=="",isDisabled:e=>!!e.disabled||e.fieldsetDisabled,isInteractive:e=>!(e.isDisabled||e.readOnly)},initial:i.open?"open":"idle",created:["syncCollection"],entry:["syncSelectElement"],watch:{open:["toggleVisibility"],value:["syncSelectedItems","syncSelectElement"],highlightedValue:["syncHighlightedItem"],collection:["syncCollection"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]},"COLLECTION.SET":{actions:["setCollection"]}},activities:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:Ke("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:A(S("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:S("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:A(S("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:S("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:S("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:S("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:S("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],activities:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":{target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:A("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:A("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:A("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}}},{guards:{loop:e=>!!e.loopFocus,multiple:e=>!!e.multiple,hasSelectedItems:e=>!!e.hasSelectedItems,hasHighlightedItem:e=>e.highlightedValue!=null,isFirstItemHighlighted:e=>e.highlightedValue===e.collection.firstValue,isLastItemHighlighted:e=>e.highlightedValue===e.collection.lastValue,closeOnSelect:(e,l)=>!!(l.closeOnSelect??e.closeOnSelect),isOpenControlled:e=>!!e["open.controlled"],isTriggerClickEvent:(e,l)=>l.previousEvent?.type==="TRIGGER.CLICK",isTriggerEnterEvent:(e,l)=>l.previousEvent?.type==="TRIGGER.ENTER",isTriggerArrowUpEvent:(e,l)=>l.previousEvent?.type==="TRIGGER.ARROW_UP",isTriggerArrowDownEvent:(e,l)=>l.previousEvent?.type==="TRIGGER.ARROW_DOWN"},activities:{trackFormControlState(e,l,{initialContext:a}){return Ue(o.getHiddenSelectEl(e),{onFieldsetDisabledChange(s){e.fieldsetDisabled=s},onFormReset(){g.selectedItems(e,a.value)}})},trackDismissableElement(e,l,{send:a}){const s=()=>o.getContentEl(e);let u=!0;return Re(s,{defer:!0,exclude:[o.getTriggerEl(e),o.getClearTriggerEl(e)],onFocusOutside:e.onFocusOutside,onPointerDownOutside:e.onPointerDownOutside,onInteractOutside(h){e.onInteractOutside?.(h),u=!(h.detail.focusable||h.detail.contextmenu)},onDismiss(){a({type:"CLOSE",src:"interact-outside",restoreFocus:u})}})},computePlacement(e){return e.currentPlacement=e.positioning.placement,Y(()=>o.getTriggerEl(e),()=>o.getPositionerEl(e),{defer:!0,...e.positioning,onComplete(s){e.currentPlacement=s.placement}})},scrollToHighlightedItem(e,l,{getState:a}){const s=h=>{if(e.highlightedValue==null||a().event.type.includes("POINTER"))return;const b=o.getHighlightedOptionEl(e),v=o.getContentEl(e);if(e.scrollToIndexFn){const E=e.collection.indexOf(e.highlightedValue);e.scrollToIndexFn({index:E,immediate:h});return}Le(b,{rootEl:v,block:"nearest"})};return M(()=>s(!0)),we(()=>o.getContentEl(e),{defer:!0,attributes:["data-activedescendant"],callback(){s(!1)}})}},actions:{reposition(e,l){const a=()=>o.getPositionerEl(e);Y(o.getTriggerEl(e),a,{...e.positioning,...l.options,defer:!0,listeners:!1,onComplete(s){e.currentPlacement=s.placement}})},toggleVisibility(e,l,{send:a}){a({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:l})},highlightPreviousItem(e){if(e.highlightedValue==null)return;const l=e.collection.getPreviousValue(e.highlightedValue);g.highlightedItem(e,l)},highlightNextItem(e){if(e.highlightedValue==null)return;const l=e.collection.getNextValue(e.highlightedValue);g.highlightedItem(e,l)},highlightFirstItem(e){const l=e.collection.firstValue;g.highlightedItem(e,l)},highlightLastItem(e){const l=e.collection.lastValue;g.highlightedItem(e,l)},setInitialFocus(e){M(()=>{Pe({root:o.getContentEl(e)})?.focus({preventScroll:!0})})},focusTriggerEl(e,l){const a=l.restoreFocus??l.previousEvent?.restoreFocus;a!=null&&!a||M(()=>{o.getTriggerEl(e)?.focus({preventScroll:!0})})},selectHighlightedItem(e,l){let a=l.value??e.highlightedValue;if(a==null)return;const s=e.deselectable&&!e.multiple&&e.value.includes(a);a=s?null:a,g.selectedItem(e,a,s)},highlightComputedFirstItem(e){const l=e.hasSelectedItems?e.collection.sort(e.value)[0]:e.collection.firstValue;g.highlightedItem(e,l)},highlightComputedLastItem(e){const l=e.hasSelectedItems?e.collection.sort(e.value)[0]:e.collection.lastValue;g.highlightedItem(e,l)},highlightFirstSelectedItem(e){if(!e.hasSelectedItems)return;const[l]=e.collection.sort(e.value);g.highlightedItem(e,l)},highlightItem(e,l){g.highlightedItem(e,l.value)},highlightMatchingItem(e,l){const a=e.collection.search(l.key,{state:e.typeahead,currentValue:e.highlightedValue});a!=null&&g.highlightedItem(e,a)},setHighlightedItem(e,l){g.highlightedItem(e,l.value)},clearHighlightedItem(e){g.highlightedItem(e,null,!0)},selectItem(e,l){const a=e.deselectable&&!e.multiple&&e.value.includes(l.value),s=a?null:l.value;g.selectedItem(e,s,a)},clearItem(e,l){const a=e.value.filter(s=>s!==l.value);g.selectedItems(e,a)},setSelectedItems(e,l){g.selectedItems(e,l.value)},clearSelectedItems(e){g.selectedItems(e,[])},selectPreviousItem(e){const l=e.collection.getPreviousValue(e.value[0]);g.selectedItem(e,l)},selectNextItem(e){const l=e.collection.getNextValue(e.value[0]);g.selectedItem(e,l)},selectFirstItem(e){const l=e.collection.firstValue;g.selectedItem(e,l)},selectLastItem(e){const l=e.collection.lastValue;g.selectedItem(e,l)},selectMatchingItem(e,l){const a=e.collection.search(l.key,{state:e.typeahead,currentValue:e.value[0]});a!=null&&g.selectedItem(e,a)},scrollContentToTop(e){e.scrollToIndexFn?e.scrollToIndexFn({index:0,immediate:!0}):o.getContentEl(e)?.scrollTo(0,0)},invokeOnOpen(e){e.onOpenChange?.({open:!0})},invokeOnClose(e){e.onOpenChange?.({open:!1})},syncSelectElement(e){const l=o.getHiddenSelectEl(e);if(l){if(e.value.length===0&&!e.multiple){l.selectedIndex=-1;return}for(const a of l.options)a.selected=e.value.includes(a.value)}},setCollection(e,l){e.collection=l.value},syncCollection(e){const l=e.collection.findMany(e.value),a=e.collection.stringifyItems(l);e.highlightedItem=e.collection.find(e.highlightedValue),e.selectedItems=l,e.valueAsString=a},syncSelectedItems(e){B.valueChange(e)},syncHighlightedItem(e){B.highlightChange(e)}}})}function xe(t){M(()=>{const i=o.getHiddenSelectEl(t);if(!i)return;const e=o.getWin(t),l=new e.Event("change",{bubbles:!0,composed:!0});i.dispatchEvent(l)})}var B={valueChange:t=>{const i=t.selectedItems;t.selectedItems=t.value.map(e=>{const l=i.find(a=>t.collection.getItemValue(a)===e);return l||t.collection.find(e)}),t.valueAsString=t.collection.stringifyItems(t.selectedItems)},highlightChange:t=>{t.highlightedItem=t.collection.find(t.highlightedValue)}},_={valueChange:t=>{B.valueChange(t),t.onValueChange?.({value:Array.from(t.value),items:Array.from(t.selectedItems)}),xe(t)},highlightChange:t=>{B.highlightChange(t),t.onHighlightChange?.({highlightedValue:t.highlightedValue,highlightedItem:t.highlightedItem,highlightedIndex:t.collection.indexOf(t.highlightedValue)})}},g={selectedItem:(t,i,e=!1)=>{if(!x(t.value,i)&&!(i==null&&!e)){if(i==null&&e){t.value=[],_.valueChange(t);return}t.value=t.multiple?Se(t.value,i):[i],_.valueChange(t)}},selectedItems:(t,i)=>{x(t.value,i)||(t.value=i,_.valueChange(t))},highlightedItem:(t,i,e=!1)=>{x(t.highlightedValue,i)||i==null&&!e||(t.highlightedValue=i??null,_.highlightChange(t))}},de=U()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]),qe=W(de),ce=U()(["item","persistFocus"]),je=W(ce),ge=U()(["id"]),Ye=W(ge),ue=U()(["htmlFor"]),Je=W(ue);const Qe=Object.freeze(Object.defineProperty({__proto__:null,anatomy:ae,collection:K,connect:re,itemGroupLabelProps:ue,itemGroupProps:ge,itemProps:ce,machine:se,props:de,splitItemGroupLabelProps:Je,splitItemGroupProps:Ye,splitItemProps:je,splitProps:qe},Symbol.toStringTag,{value:"Module"})),Xe=Ge({__name:"MInputSingleSelectDropdown",props:{modelValue:{default:void 0},options:{},label:{default:void 0},disabled:{type:Boolean},variant:{default:"default"},hintMessage:{default:void 0},placeholder:{default:"Select option"},teleportToBody:{type:Boolean},dataTestid:{default:void 0}},emits:["update:modelValue"],setup(t,{expose:i,emit:e}){i();const l=t,{internalDisabled:a}=J(R(()=>l.disabled)),{showErrorNotification:s}=$(),u=e,h=k(null),I=k(null),b=k(void 0),v=k(1);Q(h,d=>{const{width:T}=d[0].contentRect;I.value&&(b.value=`${T}px`),v.value++});const E=R(()=>{const d=l.options.map(L=>({...L,id:z(L.value)})),T=new Set(d.map(L=>L.id));return d.length!==T.size&&console.error("Duplicate IDs found in options array of MInputSingleSelectDropdown:",d),d}),D=d=>E.value.find(L=>L.id===d)??void 0,F=X("select"),O=R(()=>typeof l.modelValue=="object"?E.value.find(d=>ee(d.value,l.modelValue))?.id:E.value.find(d=>d.value===l.modelValue)?.id),P=R(()=>({disabled:a.value,value:O.value?[O.value]:void 0})),[y,H]=Z(se({id:F,collection:K({items:E.value,isItemDisabled:d=>!!d.disabled,itemToValue:d=>d.id}),loopFocus:!0,onValueChange:({value:d})=>{const T=D(d[0]);T?u("update:modelValue",T.value):s(`Option with ID ${d[0]} not found in options array.`)}}),{context:P}),n=R(()=>re(y.value,H,te));function r(d){return{...d,highlighted:n.value.highlightedItem?.value===d.value,selected:n.value.selectedItems.some(T=>T===d.value)}}const p=R(()=>{switch(l.variant){case"danger":return"tw-ring-red-400 tw-text-red-400";case"success":return"tw-ring-green-500";default:return"tw-ring-neutral-300"}}),f={props:l,internalDisabled:a,showErrorNotification:s,emit:u,trigger:h,listbox:I,listboxWidth:b,key:v,optionsForSelectDropdown:E,getSelectedOptionFromId:D,id:F,initalValue:O,transientContext:P,state:y,send:H,api:n,getOptionInfo:r,variantClasses:p,get isEqual(){return ee},computed:R,ref:k,get makeHash(){return z},get makeIntoUniqueKey(){return X},get sentenceCaseToKebabCase(){return Ve},get useResizeObserver(){return Q},get select(){return Qe},get normalizeProps(){return te},get useMachine(){return Z},get useEnableAfterSsr(){return J},get useNotifications(){return $},MInputHintMessage:We};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),Ze=["for"],$e={ref:"trigger"},ze=["data-testid"],et={key:1,class:"tw-text-sm tw-text-neutral-400"},tt=["disabled","data-testid"],lt={class:"tw-flex tw-justify-between"};function it(t,i,e,l,a,s){return w(),G("div",null,[e.label?(w(),G("label",V({key:0},l.api.getLabelProps(),{for:l.id,class:["tw-block tw-text-sm tw-font-bold tw-leading-6 tw-mb-1",{"tw-text-neutral-400":l.internalDisabled,"tw-text-neutral-900":!l.internalDisabled}]}),N(e.label),17,Ze)):Fe("",!0),C("div",$e,[C("button",V(l.api.getTriggerProps(),{class:["tw-w-full tw-flex tw-justify-between tw-items-center tw-px-3 tw-rounded-md tw-shadow-sm tw-border-0 tw-bg-white tw-py-1.5 tw-overflow-x-hidden tw-text-neutral-900 tw-ring-1 tw-ring-inset placeholder:tw-text-neutral-400 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 sm:tw-text-sm sm:tw-leading-6 disabled:tw-cursor-not-allowed disabled:tw-bg-neutral-50 disabled:tw-text-neutral-500 disabled:ring-neutral-200",l.variantClasses],"data-testid":`${e.dataTestid}-dropdown`}),[l.api.value[0]?le(t.$slots,"selection",{key:0,value:l.getSelectedOptionFromId(l.api.value[0])},()=>[C("span",{class:ke({"tw-text-neutral-400":!l.getSelectedOptionFromId(l.api.value[0])})},N(l.getSelectedOptionFromId(l.api.value[0])?.label),3)],!0):(w(),G("span",et,N(e.placeholder),1)),i[0]||(i[0]=C("span",{class:"tw-text-neutral-400"},"▼",-1))],16,ze)],512),(w(),Ne(He(l.props.teleportToBody?"teleport":"div"),{to:l.props.teleportToBody?"body":void 0},{default:ie(()=>[(w(),G("div",V(l.api.getPositionerProps(),{key:l.key},{style:{"z-index":"9999"}}),[C("ul",V(l.api.getContentProps(),{class:"tw-max-h-80 tw-overflow-y-auto tw-overflow-x-hidden tw-overflow-ellipsis tw-rounded-md tw-border tw-border-neutral-300 tw-bg-white tw-text-sm tw-shadow-lg"},{ref:"listbox",style:{width:l.listboxWidth}}),[(w(!0),G(Ae,null,De(l.optionsForSelectDropdown,u=>(w(),G("li",V(l.api.getItemProps({item:u}),{key:u.id,ref_for:!0},{disabled:u.disabled,class:["tw-px-3 tw-py-1.5 first:tw-rounded-t-md last:tw-rounded-b-md tw-cursor-pointer",{"!tw-bg-blue-500 hover:!tw-bg-blue-600 !tw-text-white":l.api.selectedItems.some(h=>h?.id===u.id),"tw-text-neutral-400 tw-bg-neutral-50 tw-cursor-not-allowed tw-italic":u.disabled}],"data-testid":`select-option-${l.sentenceCaseToKebabCase(u.label)}`}),[le(t.$slots,"option",{option:l.getOptionInfo(u)},()=>[C("div",lt,[C("span",null,N(u.label),1),C("span",V(l.api.getItemIndicatorProps({item:u}),{class:"tw-ml-2",ref_for:!0}),"✓",16)])],!0)],16,tt))),128))],16)],16))],void 0,!0),_:3},8,["to"])),_e(l.MInputHintMessage,{variant:e.variant},{default:ie(()=>[Me(N(e.hintMessage),1)],void 0,!0),_:1},8,["variant"])])}const st=Be(Xe,[["render",it],["__scopeId","data-v-319c6f2e"],["__file","MInputSingleSelectDropdown.vue"]]);export{st as M};
