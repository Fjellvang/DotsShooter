import{d as B,I as h,J as w,K as C,f as T,c as P,h as I,O as A,s as K,P as V,E as M,a as d,n as y,k as l,w as u,t as m,l as g,o as n,p as b,F as E,r as x,e as D,m as H,_ as S}from"./index-B7jvAjdE.js";import{L as z}from"./LabelWithLogicVersion-C_mqRCIw.js";import{G as O}from"./GeneratedUiFormDynamicComponent-DrqrTIRR.js";const W=B({__name:"GeneratedUiFormArrayField",props:{...h,value:{type:Array,default:()=>[]}},emits:w,setup(t,{expose:o,emit:s}){o();const e=t,f=s,{displayName:v,displayHint:c,update:a}=C(e,f),r=T(),U=P(()=>{const i={...e.fieldInfo};return i.fieldName="",i.fieldType=r.value??"",i.typeKind=M.ValueCollection,i});I(()=>{if(!e.fieldInfo.typeParams)throw new Error("Array field must have type params");r.value=e.fieldInfo.typeParams[0]});function N(i,_){a(e.value.map((p,G)=>G===i?_:p))}function k(){a(e.value.concat(void 0))}function L(i){a(e.value.filter((_,p)=>i!==p))}const F={props:e,emit:f,displayName:v,displayHint:c,emitUpdate:a,childArrayType:r,arrayFieldInfo:U,update:N,add:k,remove:L,ref:T,onMounted:I,computed:P,get MButton(){return A},get MList(){return K},get sentenceCaseToKebabCase(){return V},LabelWithLogicVersion:z,get generatedUiFieldFormEmits(){return w},get generatedUiFieldFormProps(){return h},get useGeneratedUiFieldForm(){return C},get EGeneratedUiTypeKind(){return M},GeneratedUiFormDynamicComponent:O};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}}),j={class:"tw-space-y-2"},J={key:0,class:"tw-text-xs tw-text-neutral-500 tw-m-0"},R={key:0,class:"tw-p-3 tw-text-neutral-500 tw-text-xs tw-italic"},q=["data-testid"],Q={class:"tw-text-right"},X={class:"tw-text-right"};function Y(t,o,s,e,f,v){return n(),d("div",j,[y("div",null,[l(e.LabelWithLogicVersion,{fieldInfo:t.fieldInfo,isTargetingMultiplePlayers:t.isTargetingMultiplePlayers},{default:u(()=>[b(m(e.displayName),1)],void 0,!0),_:1},8,["fieldInfo","isTargetingMultiplePlayers"]),e.displayHint?(n(),d("p",J,m(e.displayHint),1)):g("",!0)]),l(e.MList,{class:"tw-bg-neutral-50",showBorder:""},{default:u(()=>[s.value.length===0?(n(),d("div",R,"No "+m(e.displayName?.toLocaleLowerCase())+" added yet.",1)):g("",!0),(n(!0),d(E,null,x(s.value,(c,a)=>(n(),d("div",{class:"tw-p-3 tw-space-y-3",key:a,"data-testid":`${e.sentenceCaseToKebabCase(e.displayName??"generated-ui-field")}-form`},[e.childArrayType?(n(),D(e.GeneratedUiFormDynamicComponent,H({key:0},e.props,{ref_for:!0},{fieldInfo:e.arrayFieldInfo,value:c,onInput:r=>e.update(a,r),fieldPath:t.fieldPath+"/"+a,"logic-version":t.logicVersion,disabled:t.disabled,isTargetingMultiplePlayers:t.isTargetingMultiplePlayers}),null,16,["fieldInfo","value","onInput","fieldPath","logic-version","disabled","isTargetingMultiplePlayers"])):g("",!0),y("div",Q,[l(e.MButton,{onClick:r=>e.remove(a),variant:"danger",size:"small","data-testid":"remove-button","disabled-tooltip":t.disabled?"This button has been disabled remotely.":void 0},{default:u(()=>o[0]||(o[0]=[b("Remove")]),void 0,!0),_:2},1032,["onClick","disabled-tooltip"])])],8,q))),128))],void 0,!0),_:1}),y("div",X,[l(e.MButton,{onClick:e.add,size:"small","data-testid":`add-${e.sentenceCaseToKebabCase(e.displayName??"")}-button`,"disabled-tooltip":t.disabled?"This button has been disabled remotely.":void 0},{default:u(()=>[b("Add "+m(e.displayName),1)],void 0,!0),_:1},8,["data-testid","disabled-tooltip"])])])}const te=S(W,[["render",Y],["__file","GeneratedUiFormArrayField.vue"]]);export{te as default};
