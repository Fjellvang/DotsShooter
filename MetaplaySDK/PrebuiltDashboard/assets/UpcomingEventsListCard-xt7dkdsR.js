import{d as D,x as u,c,N as P,v as w,M as x,a8 as b,b as L,o as n,e as g,w as s,k as o,p as r,t as m,a as v,l as f,n as _,_ as I}from"./index-B7jvAjdE.js";import N from"./MetaListCard-CSSWUW2Z.js";import{M as S,a as O}from"./metaListUtils-B-xQ0HnD.js";import{m as y,l as k,g as B}from"./liveOpsEventUtils-DTi4aG6g.js";import{b as M,a as E}from"./liveOpsEvents-jq8FGsN5.js";import"./MInputMultiSelectCheckbox-D_9f7ub1.js";import"./MInputCheckbox-BqateWtE.js";import"./index-B_QkKjtG.js";import"./MInputHintMessage-DbuBS4Kn.js";import"./MInputSingleSelectRadio-BukGu4ZH.js";import"./index-CDBqmjrS.js";import"./MInputText-CzhsT8yb.js";import"./debounce-B8gTqdZO.js";import"./isSymbol-B7ZrWRtH.js";import"./utils-Dwlepb3M.js";import"./_baseIteratee-BXhw53re.js";import"./toString-DMHXP3G8.js";import"./identity-DKeuBCMA.js";import"./button-group-BUOztpby.js";const C=D({__name:"UpcomingEventsListCard",setup(h,{expose:i}){i();const{data:d}=u(M()),{data:e}=u(E()),l=c(()=>e.value?.map(t=>t.eventTypeName)??[]),T=c(()=>d.value?y(l.value,["NotYetStarted","InPreview"],!1):[]),p=[new S("Start time","schedule.enabledStartTime",O.Ascending),new S("Start time","schedule.enabledStartTime",O.Descending)],a={liveOpsEventsData:d,liveOpsEventTypesData:e,eventTypeNames:l,upcomingLiveOpsEventFilterSets:T,sortOptions:p,get DateTime(){return P},computed:c,get MetaListSortDirection(){return O},get MetaListSortOption(){return S},get MetaListCard(){return N},get MListItem(){return w},get MBadge(){return x},get MTextButton(){return b},get useSubscription(){return u},get liveOpsEventPhaseInfos(){return k},get makeListViewFilterSets(){return y},get getDurationFormat(){return B},get getAllLiveOpsEventsSubscriptionOptions(){return M},get getLiveOpsEventTypesSubscriptionOptions(){return E}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),F={key:0},V={key:1},A={key:0};function U(h,i,d,e,l,T){const p=L("meta-time"),a=L("meta-duration");return n(),g(e.MetaListCard,{title:"Upcoming Events",icon:"calendar-days",itemList:e.liveOpsEventsData?.upcomingEvents,searchFields:["displayName","description"],filterSets:e.upcomingLiveOpsEventFilterSets,sortOptions:e.sortOptions,emptyMessage:"No upcoming events right now, please create new ones.","data-testid":"upcoming-live-ops-events-list-card"},{"item-card":s(({item:t})=>[o(e.MListItem,null,{"top-right":s(()=>[t.schedule?.isPlayerLocalTime===!0?(n(),g(e.MBadge,{key:0,variant:"primary"},{default:s(()=>i[0]||(i[0]=[r("Player Local")]),void 0,!0),_:1})):(n(),g(e.MBadge,{key:1,variant:e.liveOpsEventPhaseInfos[t.currentPhase].badgeVariant},{default:s(()=>[r(m(e.liveOpsEventPhaseInfos[t.currentPhase].displayString),1)],void 0,!0),_:2},1032,["variant"]))]),"bottom-left":s(()=>[t.description?(n(),v("div",F,m(t.description),1)):f("",!0),t.schedule!==null&&!t.schedule?.isPlayerLocalTime&&t.startTime&&t.endTime?(n(),v("div",V,[_("span",null,[i[1]||(i[1]=r("Starting ")),o(p,{date:e.DateTime.fromISO(t.startTime)},null,8,["date"])]),_("span",null,[i[2]||(i[2]=r("Â and will run for ")),o(a,{duration:e.DateTime.fromISO(t.endTime).diff(e.DateTime.fromISO(t.startTime)),showAs:"exactDuration",hideMilliseconds:""},null,8,["duration"]),i[3]||(i[3]=r("."))])])):f("",!0)]),"bottom-right":s(()=>[t.nextPhase&&t.nextPhaseTime?(n(),v("div",A,[r(m(e.liveOpsEventPhaseInfos[t.nextPhase].displayString)+" in ",1),o(a,{duration:e.DateTime.fromISO(t.nextPhaseTime).diffNow(),showAs:e.getDurationFormat(t.nextPhaseTime),hideMilliseconds:""},null,8,["duration","showAs"]),i[4]||(i[4]=r("."))])):f("",!0),o(e.MTextButton,{to:`/liveOpsEvents/${t.eventId}`,"data-testid":"view-live-ops-event"},{default:s(()=>i[5]||(i[5]=[r("View event")]),void 0,!0),_:2},1032,["to"])]),default:s(()=>[r(m(t.displayName),1)],void 0,!0),_:2},1024)]),_:1},8,["itemList","filterSets"])}const nt=I(C,[["render",U],["__file","UpcomingEventsListCard.vue"]]);export{nt as default};
