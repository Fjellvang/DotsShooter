import{aL as c,c8 as u,c9 as h}from"./index-B7jvAjdE.js";var y=Object.defineProperty,I=(t,e,i)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,p=(t,e,i)=>I(t,e+"",i),a={itemToValue(t){return typeof t=="string"?t:u(t)&&h(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:u(t)&&h(t,"label")?t.label:a.itemToValue(t)},isItemDisabled(t){return u(t)&&h(t,"disabled")?!!t.disabled:!1}},T=class{constructor(t){this.options=t,p(this,"items"),this.items=[...t.items]}isEqual(t){return c(this.items,t.items)}setItems(t){this.items=Array.from(t)}getValues(t=this.items){return Array.from(t).map(e=>this.getItemValue(e)).filter(Boolean)}find(t){if(t==null)return null;const e=this.items.findIndex(i=>this.getItemValue(i)===t);return e!=null?this.items[e]:null}findMany(t){return Array.from(t).map(e=>this.find(e)).filter(Boolean)}at(t){return this.items[t]??null}sortFn(t,e){const i=this.indexOf(t),s=this.indexOf(e);return(i??0)-(s??0)}sort(t){return[...t].sort(this.sortFn.bind(this))}getItemValue(t){return t==null?null:this.options.itemToValue?.(t)??a.itemToValue(t)}getItemDisabled(t){return t==null?!1:this.options.isItemDisabled?.(t)??a.isItemDisabled(t)}stringifyItem(t){return t==null?null:this.options.itemToString?.(t)??a.itemToString(t)}stringify(t){return t==null?null:this.stringifyItem(this.find(t))}stringifyItems(t,e=", "){return Array.from(t).map(i=>this.stringifyItem(i)).filter(Boolean).join(e)}stringifyMany(t,e){return this.stringifyItems(this.findMany(t),e)}has(t){return this.indexOf(t)!==-1}hasItem(t){return t==null?!1:this.has(this.getItemValue(t))}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}getNextValue(t,e=1,i=!1){let s=this.indexOf(t);if(s===-1)return null;for(s=i?Math.min(s+e,this.size-1):s+e;s<=this.size&&this.getItemDisabled(this.at(s));)s++;return this.getItemValue(this.at(s))}getPreviousValue(t,e=1,i=!1){let s=this.indexOf(t);if(s===-1)return null;for(s=i?Math.max(s-e,0):s-e;s>=0&&this.getItemDisabled(this.at(s));)s--;return this.getItemValue(this.at(s))}indexOf(t){return t==null?-1:this.items.findIndex(e=>this.getItemValue(e)===t)}getByText(t,e){let i=e!=null?x(this.items,this.indexOf(e)):this.items;return t.length===1&&(i=i.filter(n=>this.getItemValue(n)!==e)),i.find(n=>V(this.stringifyItem(n),t))}search(t,e){const{state:i,currentValue:s,timeout:n=350}=e,r=i.keysSoFar+t,m=r.length>1&&Array.from(r).every(l=>l===r[0])?r[0]:r,d=this.getByText(m,s),g=this.getItemValue(d);function f(){clearTimeout(i.timer),i.timer=-1}function o(l){i.keysSoFar=l,f(),l!==""&&(i.timer=+setTimeout(()=>{o(""),f()},n))}return o(r),g}*[Symbol.iterator](){yield*this.items}insertBefore(t,e){const i=this.indexOf(t);i!==-1&&this.items.splice(i,0,e)}insertAfter(t,e){const i=this.indexOf(t);i!==-1&&this.items.splice(i+1,0,e)}reorder(t,e){if(t===-1||e===-1||t===e)return;const[i]=this.items.splice(t,1);this.items.splice(e,0,i)}json(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},V=(t,e)=>!!t?.toLowerCase().startsWith(e.toLowerCase()),x=(t,e)=>t.map((i,s)=>t[(Math.max(e,0)+s)%t.length]);export{T as L};
