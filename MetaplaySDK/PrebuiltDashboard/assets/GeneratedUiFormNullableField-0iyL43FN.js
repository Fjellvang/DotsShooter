import{d as I,I as v,J as b,f as s,K as h,h as F,G as T,E as S,e as U,a as M,n as P,k as _,w as k,m as C,l as E,b as L,o as u,p as V,t as w,_ as B}from"./index-B7jvAjdE.js";import{M as D}from"./MInputSwitch-C-Z-JJsG.js";import{L as K}from"./LabelWithLogicVersion-C_mqRCIw.js";import{G as j}from"./GeneratedUiFormDynamicComponent-DrqrTIRR.js";import"./index-B_QkKjtG.js";const W=I({__name:"GeneratedUiFormNullableField",props:{...v,value:{type:null,default:()=>null}},emits:b,setup(l,{expose:m,emit:d}){m();const e=l,i=s(!1);function p(a){i.value=a,f(a)}const n=d,o=s(),r=s(),{displayName:N,displayHint:G,update:t}=h(e,n);function c(a){if(a===null)t(null);else if(r.value.typeKind===S.Primitive)o.value=a,t(a);else{const y={...a,$type:r.value.jsonType};o.value=y,t(y)}}F(async()=>{r.value=await T(e.fieldSchema.valueType??""),c(e.value),e.value||(i.value=!1)});function f(a){t(a?o.value:null)}const g={props:e,nullableSwitch:i,onUpdateNullableToggle:p,emit:n,valueCache:o,valueTypeSchema:r,displayName:N,displayHint:G,emitUpdate:t,update:c,updateNullableToggle:f,onMounted:F,ref:s,get MInputSwitch(){return D},LabelWithLogicVersion:K,get generatedUiFieldFormEmits(){return b},get generatedUiFieldFormProps(){return v},get useGeneratedUiFieldForm(){return h},get EGeneratedUiTypeKind(){return S},get GetTypeSchemaForTypeName(){return T},GeneratedUiFormDynamicComponent:j};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),z={key:1,class:"tw-rounded-md tw-bg-neutral-100 tw-px-3 tw-py-2.5"},H={class:"tw-flex tw-items-center tw-justify-between tw-font-semibold"};function J(l,m,d,e,i,p){const n=L("b-skeleton");return!l.fieldSchema||!e.valueTypeSchema?(u(),U(n,{key:0})):(u(),M("div",z,[P("div",H,[_(e.LabelWithLogicVersion,{fieldInfo:l.fieldInfo,"is-header":!1,isTargetingMultiplePlayers:l.isTargetingMultiplePlayers},{default:k(()=>[V(w(e.nullableSwitch?"Disable":"Enable")+" "+w(e.displayName),1)],void 0,!0),_:1},8,["fieldInfo","isTargetingMultiplePlayers"]),_(e.MInputSwitch,{"model-value":e.nullableSwitch,size:"small",disabled:l.disabled,"onUpdate:modelValue":e.onUpdateNullableToggle},null,8,["model-value","disabled"])]),e.nullableSwitch?(u(),U(e.GeneratedUiFormDynamicComponent,C({key:0},e.props,{fieldInfo:{...l.fieldInfo,fieldType:l.fieldSchema.valueType??""},value:d.value,"logic-version":l.logicVersion,disabled:l.disabled,isTargetingMultiplePlayers:l.isTargetingMultiplePlayers,onInput:e.update}),null,16,["fieldInfo","value","logic-version","disabled","isTargetingMultiplePlayers"])):E("",!0)]))}const X=B(W,[["render",J],["__file","GeneratedUiFormNullableField.vue"]]);export{X as default};
