import{d as J,an as W,c as o,ao as S,N as i,f as k,h as re,a$ as oe,ap as G,b0 as ye,b1 as Te,aq as q,b2 as ve,b3 as Ie,o as u,a as g,$ as V,t as I,l as z,n as a,m as E,b4 as Se,aX as T,k as A,w as Z,p as Q,e as fe,b5 as Me,b6 as Oe,b7 as se,b8 as ue,F as de,r as me,_ as $,C as X,b9 as _e}from"./index-B7jvAjdE.js";import{M as ee}from"./MInputHintMessage-DbuBS4Kn.js";import{M as Ve}from"./MInputSwitch-C-Z-JJsG.js";import{m as we,c as ce,n as Ce}from"./index-DZuvHjnn.js";const ke=J({__name:"MInputDate",props:{modelValue:{},label:{},hintMessage:{},disabled:{type:Boolean},minIsoDate:{},maxIsoDate:{},variant:{}},emits:["update:modelValue"],setup(C,{expose:t,emit:l}){t();const e=C,{internalDisabled:h}=W(o(()=>e.disabled)),x=S("date"),n=S("date-input-hint"),d=o(()=>{if(e.modelValue)return i.fromISO(e.modelValue)}),M=o(()=>{if(e.minIsoDate)return e.minIsoDate==="utcNow"?i.now().toUTC().startOf("day"):i.fromISO(e.minIsoDate)}),m=o(()=>{if(e.maxIsoDate)return e.maxIsoDate==="utcNow"?i.now().toUTC().endOf("day"):i.fromISO(e.maxIsoDate)}),v=k();function p(r){v.value=r}const D=new ResizeObserver(()=>{H.value=v.value?.clientWidth??0});re(()=>{v.value&&D.observe(v.value)}),oe(()=>{D.disconnect()});const H=k(0),O={keyUp:{days:1},keyDown:{days:-1},keyRight:{days:1},keyLeft:{days:-1},buttonUp:{days:1},buttonDown:{days:-1},scrollwheelUp:{days:1},scrollwheelDown:{days:-1},popoverKeyUp:{weeks:-1},popoverKeyDown:{weeks:1},popoverKeyRight:{days:1},popoverKeyLeft:{days:-1}};function w(r,U,F){const R=O[U];return console.assert(U in O,`Invalid action: ${U}`),F?K(r.plus(R)):r.plus(R)}function j(r){return d.value?!d.value.hasSame(w(d.value,r,!0),"day"):!1}function P(r){d.value&&te(w(d.value,r,!0))}function K(r){return M.value&&r<M.value?M.value:m.value&&r>m.value?m.value:r}function B(r){r.preventDefault(),!h.value&&(r.deltaY<0?P("scrollwheelUp"):P("scrollwheelDown"))}function c(r){s.value&&(r.deltaY<0?s.value=s.value.plus({months:1}):s.value=s.value.minus({months:1}),r.stopPropagation())}const s=k(d.value),f=k(),y=o(()=>{if(!s.value)return[];const r=s.value.startOf("month").startOf("week"),U=r.plus({weeks:6}).minus({days:1}),F=i.now().toISODate(),R=[];for(let _=r;_<=U;_=_.plus({days:1})){const ge=_.month!==s.value.month,he=!!(M.value&&_<M.value||m.value&&_>m.value),xe=!!(e.modelValue&&_.toISODate()===e.modelValue),pe=_.toISODate()===F,De=f.value?.toISODate()===_.toISODate();R.push({date:_,isDifferentMonth:ge,isDisabled:he,isSelected:xe,isToday:pe,isKeyboardHighlight:De})}return R});function N(r){f.value||(f.value=i.now());const U=w(f.value,r,!1),F=w(f.value,r,!0);U.hasSame(F,"day")&&(f.value=U,f.value.month!==s.value?.month&&(s.value=f.value))}const L=o(()=>{if(e.modelValue){let r;return H.value<130?r=i.DATE_SHORT:H.value<220?r=i.DATE_MED:r=i.DATE_HUGE,i.fromISO(e.modelValue).toLocaleString(r)}else return}),Y=o(()=>{switch(e.variant){case"danger":return"tw-ring-red-400 tw-text-red-400";case"success":return"tw-ring-green-500";default:return"tw-ring-neutral-300"}}),b=l;function te(r){r&&(ie.value.setOpen(!1),b("update:modelValue",r.toISODate()))}const be=k(),[ne,ae]=G(ye({id:S("popover"),modal:!0,autoFocus:!1,onOpenChange:r=>{r.open&&(s.value=d.value??i.now(),f.value=d.value)}})),ie=o(()=>Te(ne.value,ae,q)),le={props:e,internalDisabled:h,id:x,hintId:n,selectedDateTime:d,minDateTime:M,maxDateTime:m,inputElement:v,setInputElementRef:p,inputElementObserver:D,inputElementWidth:H,actionConfig:O,timePlusAction:w,canModifySelection:j,modifySelection:P,clampDateTime:K,onInputScrollWheel:B,onPopoverScrollWheel:c,openMonth:s,keyboardHighlight:f,dayOptionsToShow:y,modifyKeyboardHighlight:N,dateDisplayValue:L,variantClasses:Y,emit:b,onDateSelected:te,initialFocusElement:be,state:ne,send:ae,api:ie,get DateTime(){return i},computed:o,onMounted:re,onBeforeUnmount:oe,ref:k,Teleport:ve,get makeIntoUniqueKey(){return S},get popover(){return Ie},get normalizeProps(){return q},get useMachine(){return G},get useEnableAfterSsr(){return W},MInputHintMessage:ee};return Object.defineProperty(le,"__isScriptSetup",{enumerable:!1,value:!0}),le}}),Ee=["for"],He={class:"tw-relative"},Pe=["value","disabled","aria-invalid","aria-describedby"],Ue=["disabled"],ze=["disabled"],Ke={class:"tw-flex tw-h-10 tw-items-center"},Be={key:0,class:"tw-flex tw-h-10 tw-flex-grow tw-items-center tw-justify-center tw-text-sm tw-font-medium tw-text-neutral-700"},Ne={class:"tw-grid tw-grid-cols-7 tw-gap-px"},Le={key:0,class:"tw-pointer-events-none tw-absolute tw-inset-0.5 -tw-z-10 tw-rounded-full tw-bg-neutral-200","aria-hidden":"true"},Ae=["aria-label","aria-current","aria-selected","onClick"],je={key:2,class:"tw-flex tw-size-10 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-md tw-bg-neutral-50 tw-leading-5 tw-text-neutral-300 tw-ring-neutral-200"};function We(C,t,l,e,h,x){return u(),g("div",null,[l.label?(u(),g("label",{key:0,for:e.id,class:V(["tw-block tw-text-sm tw-font-bold tw-leading-6 tw-mb-1",{"tw-text-neutral-400":e.internalDisabled,"tw-text-neutral-900":!e.internalDisabled}])},I(l.label),11,Ee)):z("",!0),a("div",He,[a("input",E({...e.api.getTriggerProps(),...C.$attrs},{type:"text",value:e.dateDisplayValue,disabled:l.disabled,class:["tw-w-full tw-rounded-md tw-shadow-sm tw-border-0 tw-py-1.5 tw-text-neutral-900 tw-ring-1 tw-ring-inset placeholder:tw-text-neutral-400 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 sm:tw-text-sm sm:tw-leading-6 disabled:tw-cursor-not-allowed disabled:tw-bg-neutral-50 disabled:tw-text-neutral-500 disabled:ring-neutral-200",e.variantClasses],"aria-invalid":l.variant==="danger"?!0:void 0,"aria-describedby":e.hintId,ref:e.setInputElementRef,readonly:"",onWheel:Se(e.onInputScrollWheel,["stop"]),onKeyup:[t[0]||(t[0]=T(n=>e.api.setOpen(!0),["enter"])),t[1]||(t[1]=T(n=>e.api.setOpen(!0),["space"])),t[2]||(t[2]=T(n=>e.modifySelection("keyUp"),["up"])),t[3]||(t[3]=T(n=>e.modifySelection("keyDown"),["down"])),t[4]||(t[4]=T(n=>e.modifySelection("keyLeft"),["left"])),t[5]||(t[5]=T(n=>e.modifySelection("keyRight"),["right"]))]}),null,16,Pe),a("button",{class:V(["tw-absolute tw-top-0.5 tw-right-2 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":l.variant==="danger","tw-text-neutral-400 hover:tw-bg-transparent active:tw-bg-transparent":e.internalDisabled||!e.canModifySelection("buttonUp")}]),disabled:e.internalDisabled||!e.canModifySelection("buttonUp"),onClick:t[6]||(t[6]=n=>e.modifySelection("buttonUp"))},t[15]||(t[15]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[a("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)]),10,Ue),a("button",{class:V(["tw-absolute tw-bottom-0.5 tw-right-2 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":l.variant==="danger","tw-text-neutral-400 hover:tw-bg-transparent active:tw-bg-transparent":e.internalDisabled||!e.canModifySelection("buttonDown")}]),disabled:e.internalDisabled||!e.canModifySelection("buttonDown"),onClick:t[7]||(t[7]=n=>e.modifySelection("buttonDown"))},t[16]||(t[16]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[a("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]),10,ze)]),A(e.MInputHintMessage,{id:e.hintId,variant:l.variant},{default:Z(()=>[Q(I(l.hintMessage),1)],void 0,!0),_:1},8,["id","variant"]),(u(),fe(ve,{to:"body"},[a("div",se(ue(e.api.getPositionerProps())),[Me(a("div",se(ue(e.api.getArrowProps())),[a("div",E(e.api.getArrowTipProps(),{class:"tw-z-0 tw-border-l tw-border-t tw-border-neutral-200"}),null,16)],16),[[Oe,e.api.open]]),a("div",E(e.api.getContentProps(),{class:"tw-max-h-[calc(100vh_-_100px)] tw-max-w-sm tw-overflow-auto tw-rounded-lg tw-border tw-border-neutral-200 tw-bg-white tw-shadow-md"},{onWheel:e.onPopoverScrollWheel,onKeydown:[t[10]||(t[10]=T(n=>e.modifyKeyboardHighlight("popoverKeyUp"),["up"])),t[11]||(t[11]=T(n=>e.modifyKeyboardHighlight("popoverKeyDown"),["down"])),t[12]||(t[12]=T(n=>e.modifyKeyboardHighlight("popoverKeyLeft"),["left"])),t[13]||(t[13]=T(n=>e.modifyKeyboardHighlight("popoverKeyRight"),["right"])),t[14]||(t[14]=T(n=>e.onDateSelected(e.keyboardHighlight),["enter"]))]}),[a("div",Ke,[a("button",{class:"tw-flex tw-size-10 tw-flex-none tw-items-center tw-justify-center tw-rounded-md hover:tw-bg-neutral-200 hover:tw-text-neutral-700 focus:tw-border-2 focus:tw-border-blue-600 active:tw-bg-neutral-300",onClick:t[8]||(t[8]=n=>e.openMonth=e.openMonth?.minus({months:1}))},t[17]||(t[17]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-size-5"},[a("path",{"fill-rule":"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})],-1)])),e.openMonth?(u(),g("div",Be,I(e.openMonth.monthLong)+" "+I(e.openMonth.year),1)):z("",!0),a("button",{class:"tw-flex tw-size-10 tw-flex-none tw-items-center tw-justify-center tw-rounded-md hover:tw-bg-neutral-200 hover:tw-text-neutral-700 focus:tw-border-2 focus:tw-border-blue-600 active:tw-bg-neutral-300",onClick:t[9]||(t[9]=n=>e.openMonth=e.openMonth?.plus({months:1}))},t[18]||(t[18]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-size-5"},[a("path",{"fill-rule":"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1)]))]),a("div",Ne,[(u(),g(de,null,me(["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=>a("div",{class:"tw-relative tw-z-0 tw-flex tw-size-10 tw-items-center tw-justify-center tw-text-xs tw-font-medium tw-text-neutral-500",key:n},I(n),1)),64)),(u(!0),g(de,null,me(e.dayOptionsToShow,n=>(u(),g("div",{class:"tw-relative tw-z-0 tw-flex tw-size-10 tw-items-center tw-justify-center tw-text-sm tw-font-medium",key:n.date.toISODate()||""},[n.isToday?(u(),g("span",Le)):z("",!0),n.isDisabled?(u(),g("span",je,I(n.date.day),1)):(u(),g("button",{key:1,class:V(["tw-size-10 tw-cursor-pointer tw-rounded-md tw-leading-5 focus:tw-border-2 focus:tw-border-blue-600 focus:tw-outline-none",{"tw-bg-blue-500 tw-text-white":n.isSelected,"hover:tw-text-neutral-700 hover:tw-bg-neutral-200 active:tw-bg-neutral-300":!n.isSelected,"tw-text-neutral-700":!n.isDifferentMonth&&!n.isSelected,"tw-text-neutral-400":n.isDifferentMonth&&!n.isSelected,"tw-bg-neutral-200":n.isKeyboardHighlight&&!n.isSelected}]),ref_for:!0,ref:`day-${n.date.day}`,"aria-label":n.date.toLocaleString(e.DateTime.DATE_HUGE),"aria-current":n.isToday?"date":void 0,"aria-selected":n.isSelected,onClick:d=>e.onDateSelected(n.date)},I(n.date.day),11,Ae))]))),128))])],16)],16)]))])}const Fe=$(ke,[["render",We],["__scopeId","data-v-6a32abc9"],["__file","MInputDate.vue"]]),Re=J({__name:"MInputTime",props:{modelValue:{},label:{},hintMessage:{},disabled:{type:Boolean},minIsoTime:{},maxIsoTime:{},variant:{}},emits:["update:modelValue"],setup(C,{expose:t,emit:l}){t();const e=C,h=l;function x(b){h("update:modelValue",b.toISOTime({suppressSeconds:!0,includeOffset:!1}))}const{internalDisabled:n}=W(o(()=>e.disabled)),d=S("date"),M=S("date-input-hint"),m=o(()=>i.fromISO(e.modelValue).hour),v=o(()=>i.fromISO(e.modelValue).minute),p=o(()=>{if(e.minIsoTime)return e.minIsoTime==="utcNow"?i.utc().startOf("minute"):i.fromISO(e.minIsoTime)}),D=o(()=>{if(e.maxIsoTime)return e.maxIsoTime==="utcNow"?i.utc().endOf("minute"):i.fromISO(e.maxIsoTime)}),H=o(()=>{switch(e.variant){case"danger":return"tw-ring-red-400 tw-text-red-400";case"success":return"tw-ring-green-500";default:return"tw-ring-neutral-300"}}),O=o(()=>p.value?p.value.hour:0),w=o(()=>D.value?D.value.hour:23),j=o(()=>({disabled:n.value,value:String(m.value),min:O.value,max:w.value})),[P,K]=G(we({disabled:n.value,id:S("time-hours"),allowMouseWheel:!0,inputMode:"numeric",formatOptions:{maximumFractionDigits:0,minimumIntegerDigits:2},focusInputOnChange:!0,onFocusChange:b=>{isNaN(b.valueAsNumber)?B.value.setValue(m.value):x(i.fromObject({hour:b.valueAsNumber,minute:v.value}))}}),{context:j}),B=o(()=>ce(P.value,K,q)),c=o(()=>p.value&&m.value===O.value?p.value.minute:0),s=o(()=>D.value&&m.value===w.value?D.value.minute:59),f=o(()=>({disabled:n.value,value:String(v.value),min:c.value,max:s.value})),[y,N]=G(we({disabled:n.value,id:S("time-minutes"),allowMouseWheel:!0,inputMode:"numeric",formatOptions:{maximumFractionDigits:0,minimumIntegerDigits:2},onFocusChange:b=>{isNaN(b.valueAsNumber)?L.value.setValue(v.value):x(i.fromObject({hour:m.value,minute:b.valueAsNumber}))}}),{context:f});X(m,b=>{b===O.value&&v.value<c.value&&x(i.fromObject({hour:b,minute:c.value})),b===w.value&&v.value>s.value&&x(i.fromObject({hour:b,minute:s.value}))});const L=o(()=>ce(y.value,N,q)),Y={props:e,emit:h,emitNewTime:x,internalDisabled:n,id:d,hintId:M,selectedHour:m,selectedMinute:v,minTime:p,maxTime:D,variantClasses:H,minHour:O,maxHour:w,transientContext:j,stateHours:P,sendHours:K,apiHours:B,minMinute:c,maxMinute:s,transientContextMinutes:f,stateMinutes:y,sendMinutes:N,apiMinutes:L,get DateTime(){return i},computed:o,watch:X,get makeIntoUniqueKey(){return S},get numberInput(){return Ce},get normalizeProps(){return q},get useMachine(){return G},get useEnableAfterSsr(){return W},MInputHintMessage:ee};return Object.defineProperty(Y,"__isScriptSetup",{enumerable:!1,value:!0}),Y}}),Ge=["for"],qe={class:"tw-relative"},Ye=["aria-invalid","aria-describedby"],Ze={class:"tw-relative"},Xe=["aria-invalid","aria-describedby"];function Je(C,t,l,e,h,x){return u(),g("div",null,[l.label?(u(),g("label",{key:0,for:e.id,class:V(["tw-block tw-text-sm tw-font-bold tw-leading-6 tw-mb-1",{"tw-text-neutral-400":e.internalDisabled,"tw-text-neutral-900":!e.internalDisabled}])},I(l.label),11,Ge)):z("",!0),a("div",{class:V(["tw-flex tw-items-center tw-max-w-fit tw-rounded-md tw-text-neutral-900 tw-shadow-sm tw-ring-1 tw-ring-inset sm:tw-text-sm sm:tw-leading-6",{"ring-neutral-200 tw-bg-neutral-50 tw-cursor-not-allowed":e.internalDisabled,"tw-bg-white":!e.internalDisabled},e.variantClasses])},[a("div",qe,[a("input",E(e.apiHours.getInputProps(),{class:"tw-max-w-14 tw-rounded-md tw-border-0 tw-bg-transparent tw-py-1.5 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 disabled:tw-cursor-not-allowed disabled:tw-text-neutral-500"},{"aria-invalid":l.variant==="danger"?!0:void 0,"aria-describedby":e.hintId}),null,16,Ye),a("button",E(e.apiHours.getIncrementTriggerProps(),{class:["tw-absolute tw-top-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":l.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":e.internalDisabled||e.apiHours.getIncrementTriggerProps().disabled}]}),t[0]||(t[0]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[a("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)]),16),a("button",E(e.apiHours.getDecrementTriggerProps(),{class:["tw-absolute tw-bottom-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":l.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":e.internalDisabled||e.apiHours.getDecrementTriggerProps().disabled}]}),t[1]||(t[1]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[a("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]),16)]),t[4]||(t[4]=a("div",{class:"tw-relative tw-bottom-[1px] tw-text-lg tw-text-neutral-400"},":",-1)),a("div",Ze,[a("input",E(e.apiMinutes.getInputProps(),{class:"tw-max-w-14 tw-rounded-md tw-border-0 tw-bg-transparent tw-py-1.5 focus:tw-ring-2 focus:tw-ring-inset focus:tw-ring-blue-600 disabled:tw-cursor-not-allowed disabled:tw-text-neutral-500"},{"aria-invalid":l.variant==="danger"?!0:void 0,"aria-describedby":e.hintId}),null,16,Xe),a("button",E(e.apiMinutes.getIncrementTriggerProps(),{class:["tw-absolute tw-top-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":l.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":e.internalDisabled||e.apiMinutes.getIncrementTriggerProps().disabled}]}),t[2]||(t[2]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[a("path",{"fill-rule":"evenodd",d:"M14.77 12.79a.75.75 0 01-1.06-.02L10 8.832 6.29 12.77a.75.75 0 11-1.08-1.04l4.25-4.5a.75.75 0 011.08 0l4.25 4.5a.75.75 0 01-.02 1.06z","clip-rule":"evenodd"})],-1)]),16),a("button",E(e.apiMinutes.getDecrementTriggerProps(),{class:["tw-absolute tw-bottom-0.5 tw-right-1 hover:tw-bg-neutral-300 active:tw-bg-neutral-400 tw-rounded",{"tw-text-red-500":l.variant==="danger","tw-text-neutral-400 tw-pointer-events-none":e.internalDisabled||e.apiMinutes.getDecrementTriggerProps().disabled}]}),t[3]||(t[3]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"tw-w-4 tw-h-4"},[a("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]),16)])],2),A(e.MInputHintMessage,{id:e.hintId,variant:l.variant},{default:Z(()=>[Q(I(l.hintMessage),1)],void 0,!0),_:1},8,["id","variant"])])}const Qe=$(Re,[["render",Je],["__file","MInputTime.vue"]]),$e=J({__name:"MInputDateTime",props:{modelValue:{},allowEmpty:{type:Boolean,default:!1},label:{default:void 0},hintMessage:{default:void 0},disabled:{type:Boolean,default:!1},minDateTime:{default:void 0},maxDateTime:{default:void 0},variant:{default:"neutral"},dataTestid:{default:void 0},showGameTimeHint:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(C,{expose:t,emit:l}){t();const e=C,h=k(e.modelValue!==void 0);function x(c){h.value=c,c?w("update:modelValue",n.value):w("update:modelValue",void 0)}const n=k(e.modelValue??i.utc());X(()=>e.modelValue,c=>{if(!e.allowEmpty&&c===void 0)throw new TypeError("modelValue cannot be undefined without setting allowEmpty to true.");c===void 0&&h.value&&(h.value=!1)},{immediate:!0});const{internalDisabled:d}=W(o(()=>e.disabled)),M=S("datetime"),m=o(()=>e.modelValue?.toISODate()??""),v=o(()=>e.minDateTime instanceof i?e.minDateTime.toISODate():e.minDateTime==="utcNow"?i.utc().endOf("day").toISODate():e.minDateTime),p=o(()=>e.maxDateTime instanceof i?e.maxDateTime.toISODate():e.maxDateTime==="utcNow"?i.utc().startOf("day").toISODate():e.maxDateTime),D=o(()=>e.modelValue?.toUTC().toISOTime({includeOffset:!1})??""),H=o(()=>{if(e.minDateTime&&e.modelValue?.toUTC().toISODate()===v.value)return e.minDateTime instanceof i?e.minDateTime.toUTC().toISOTime({suppressSeconds:!0,includeOffset:!1}):i.utc().startOf("minute").toISOTime({suppressSeconds:!0,includeOffset:!1})}),O=o(()=>{if(e.maxDateTime&&e.modelValue?.toUTC().toISODate()===p.value)return e.maxDateTime instanceof i?e.maxDateTime.toUTC().toISOTime({suppressSeconds:!0,includeOffset:!1}):i.utc().startOf("minute").toISOTime({suppressSeconds:!0,includeOffset:!1})}),w=l;function j(c){const s=e.modelValue?.toUTC().hour,f=e.modelValue?.toUTC().minute;let y=i.fromISO(c,{zone:"utc"}).set({hour:s,minute:f});const N=e.minDateTime instanceof i?e.minDateTime:i.utc().startOf("minute"),L=e.maxDateTime instanceof i?e.maxDateTime:i.utc().startOf("minute");e.minDateTime&&y<N?y=N:p.value&&y>L&&(y=L),n.value=y,w("update:modelValue",y)}function P(c){const s=i.fromISO(c,{zone:"utc"}).set({year:e.modelValue?.year,month:e.modelValue?.month,day:e.modelValue?.day});n.value=s,w("update:modelValue",s)}const K=o(()=>d.value?d.value:e.allowEmpty&&!e.modelValue?.isValid),B={props:e,internalValueSelectionEnabled:h,onInternalValueSelectionEnabledChanged:x,lastSelectedValue:n,internalDisabled:d,id:M,extractedDate:m,minDate:v,maxDate:p,extractedTime:D,minTime:H,maxTime:O,emit:w,onDateChanged:j,onTimeChanged:P,disabledTimePicker:K,get DateTime(){return i},computed:o,ref:k,watch:X,get makeIntoUniqueKey(){return S},get useEnableAfterSsr(){return W},MGameTimeOffsetHint:_e,MInputDate:Fe,MInputHintMessage:ee,MInputSwitch:Ve,MInputTime:Qe};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}}),et={class:"tw-flex tw-items-center tw-justify-between"},tt=["for"],nt={key:1,class:"tw-flex tw-items-center tw-space-x-2"},at={key:0};function it(C,t,l,e,h,x){return u(),g("div",{class:V({"tw-bg-neutral-100 tw-rounded-md tw-border tw-border-neutral-200 tw-p-3":l.allowEmpty})},[a("div",et,[l.label?(u(),g("label",{key:0,for:e.id,class:V(["tw-block tw-text-sm tw-font-bold tw-leading-6 tw-mb-1",{"tw-text-neutral-400":e.internalDisabled,"tw-text-neutral-900":!e.internalDisabled}])},I(l.label),11,tt)):z("",!0),l.allowEmpty?(u(),g("div",nt,[a("label",{class:V(["tw-mb-0 tw-text-xs",{"tw-text-neutral-400":e.internalDisabled,"tw-text-neutral-500":!e.internalDisabled}])},"Enable",2),A(e.MInputSwitch,{"model-value":e.internalValueSelectionEnabled,disabled:e.internalDisabled,size:"small","onUpdate:modelValue":e.onInternalValueSelectionEnabledChanged,"data-testid":`${l.dataTestid}-enable-toggle`},null,8,["model-value","disabled","data-testid"])])):z("",!0)]),!l.allowEmpty||e.internalValueSelectionEnabled?(u(),g("div",at,[a("div",{class:V(["tw-flex tw-space-x-1",{"tw-mt-1":l.allowEmpty}])},[A(e.MInputDate,{class:"tw-flex-auto","model-value":e.extractedDate,disabled:e.internalDisabled,"min-iso-date":e.minDate,"max-iso-date":e.maxDate,variant:l.variant,"onUpdate:modelValue":e.onDateChanged},null,8,["model-value","disabled","min-iso-date","max-iso-date","variant"]),A(e.MInputTime,{"model-value":e.extractedTime,disabled:e.disabledTimePicker,"min-iso-time":e.minTime,"max-iso-time":e.maxTime,variant:l.variant,"onUpdate:modelValue":e.onTimeChanged},null,8,["model-value","disabled","min-iso-time","max-iso-time","variant"])],2),l.showGameTimeHint?(u(),fe(e.MInputHintMessage,{key:0},{default:Z(()=>[A(e.MGameTimeOffsetHint)],void 0,!0),_:1})):z("",!0)])):z("",!0),A(e.MInputHintMessage,{variant:l.variant},{default:Z(()=>[Q(I(l.hintMessage),1)],void 0,!0),_:1},8,["variant"])],2)}const ut=$($e,[["render",it],["__file","MInputDateTime.vue"]]);export{ut as M,Fe as a};
