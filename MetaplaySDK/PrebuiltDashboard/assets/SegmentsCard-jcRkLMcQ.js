import{d as b,x as g,cn as f,c as S,v as w,a8 as x,aU as _,b as L,o as N,e as O,w as s,k as m,p as d,t as M,_ as z}from"./index-B7jvAjdE.js";import{M as r,a as p}from"./metaListUtils-B-xQ0HnD.js";import{M as C}from"./MetaAudienceSizeEstimate-CCTh_xY2.js";const P=b({__name:"SegmentsCard",props:{segments:{},ownerTitle:{}},setup(c,{expose:n}){n();const i=c,e=_(),{data:o}=g(f()),u=S(()=>e.doesHavePermission("api.segmentation.view")?o.value?.segments==null?void 0:i.segments?i.segments.map(y=>o.value.segments.find(v=>v.info.segmentId===y)):[]:[]),a=["info.displayName","info.description"],t=[r.asUnsorted(),new r("Name","info.displayName",p.Ascending),new r("Name","info.displayName",p.Descending)],l={props:i,permissions:e,playerSegmentsData:o,items:u,searchFields:a,sortOptions:t,computed:S,get MetaListSortDirection(){return p},get MetaListSortOption(){return r},get MListItem(){return w},get MTextButton(){return x},get usePermissions(){return _},get useSubscription(){return g},get getPlayerSegmentsSubscriptionOptions(){return f},MetaAudienceSizeEstimate:C};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function T(c,n,i,e,o,u){const a=L("meta-list-card");return N(),O(a,{title:"Segments",icon:"user-tag",itemList:e.items,searchFields:e.searchFields,sortOptions:e.sortOptions,emptyMessage:`${i.ownerTitle} doesn't belong to any segments!`,pageSize:8,permission:"api.segmentation.view","data-testid":"segments-card"},{"item-card":s(({item:t})=>[m(e.MListItem,null,{"top-right":s(()=>[m(e.MetaAudienceSizeEstimate,{sizeEstimate:t.sizeEstimate},null,8,["sizeEstimate"])]),"bottom-left":s(()=>[d(M(t.info.description),1)]),"bottom-right":s(()=>[m(e.MTextButton,{permission:"api.segmentation.view",to:`/segments/${t.info.segmentId}`},{default:s(()=>n[0]||(n[0]=[d("View segment")]),void 0,!0),_:2},1032,["to"])]),default:s(()=>[d(M(t.info.displayName),1)],void 0,!0),_:2},1024)]),_:1},8,["itemList","emptyMessage"])}const E=z(P,[["render",T],["__file","SegmentsCard.vue"]]);export{E as S};
